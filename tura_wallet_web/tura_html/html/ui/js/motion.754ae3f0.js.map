{"version":3,"sources":["webpack:///./src/views/MobilePages/motion/motion.vue?13bb","webpack:///src/views/MobilePages/motion/motion.vue","webpack:///./src/views/MobilePages/motion/motion.vue?60cf","webpack:///./src/views/MobilePages/motion/motion.vue","webpack:///./src/views/motion/motion.vue?584d","webpack:///./src/views/MobilePages/motion/motion.vue?daef","webpack:///./node_modules/vant/es/button/style/index.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/motion/motion.vue?559c","webpack:///src/views/motion/motion.vue","webpack:///./src/views/motion/motion.vue?4e3b","webpack:///./src/views/motion/motion.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","on","$event","addClass","class","actived","currentIndex","attrs","to","_v","_s","label","_m","staticStyle","disabled","handlerPostMotion","motionListData","motionItem","handlerVote","pid","OptionsTotalCounts","name","status","add","stime","etime","big","win","split","staticRenderFns","components","Button","Loading","data","loading","dialogVisible","form","options","radio","time","vote","$contractAddress","iecConst","navs","computed","watch","walletaccount","handler","val","deep","immediate","created","getcurrentIndex","activated","getvoteList","methods","$router","push","path","query","optioncount","setcurrentIndex","localStorage","setItem","saveStatus","getItem","connectMetaMask","component","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","O","len","length","actualStart","argumentsLength","arguments","TypeError","directives","rawName","value","expression","tabClick","ref","model","callback","$$v","newName","newErcAdd","newInfo","$set","addSearchOptions","_e","delSearchOptions","dialogConfirm","tab","resetOptions","$message","message","type","writeMotion","option","JSON","parse","stringify","formRest","$map","map","callbackfn","undefined"],"mappings":"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","file":"js/motion.754ae3f0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"motion-wrap\"},[_c('div',{staticClass:\"text-btn\"},[_c('ul',{staticClass:\"navs\"},_vm._l((_vm.navs),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.addClass(index)}}},[_c('router-link',{class:{ actived: index == _vm.currentIndex },attrs:{\"to\":item.to,\"tag\":\"span\"}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])],1)}),0)]),_vm._m(0),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"25px\"}},[_c('Button',{staticStyle:{\"margin-left\":\"auto\"},attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerPostMotion}},[_vm._v(\" Announce a proposal \")])],1),_c('div',{staticClass:\"motion-list\"},[_c('h3'),_c('div',{staticClass:\"box\"},[(_vm.motionListData.length)?_c('ul',_vm._l((_vm.motionListData),function(motionItem,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.handlerVote(\n              motionItem.pid,\n              motionItem.OptionsTotalCounts,\n              motionItem.name,\n              motionItem.status,\n              motionItem.add,\n              motionItem.stime,\n              motionItem.etime,\n              motionItem.big,\n              motionItem.win\n            )}}},[_c('span',[_vm._v(_vm._s(motionItem.name.split('|')[0]))]),_c('span',[_c('span',{staticClass:\"vote\",staticStyle:{\"margin-left\":\"10px\",\"font-size\":\"16px\"}},[_vm._v(\" \"+_vm._s(motionItem.big ? \"Major\" : \"General\")+\" \")])])])}),0):_c('ul',{staticClass:\"nodata\"},[_c('li',{staticStyle:{\"font-weight\":\"600\",\"font-size\":\"16px\"}},[_vm._v(\" No proposal. Go to announce a proposal! \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"introduce-wrap\"},[_c('h3',[_vm._v(\"DAO Governance\")]),_c('p',[_vm._v(\" LEC Token represents the vote share of DAO governance. You can vote for a proposal by yourself or assign the vote share to a third-party person' \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"motion-wrap\">\r\n    <div class=\"text-btn\">\r\n      <ul class=\"navs\">\r\n        <li v-for=\"(item, index) in navs\" :key=\"index\" @click=\"addClass(index)\">\r\n          <router-link\r\n            :to=\"item.to\"\r\n            tag=\"span\"\r\n            :class=\"{ actived: index == currentIndex }\"\r\n          >\r\n            {{ item.label }}\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <!-- 介绍 -->\r\n    <div class=\"introduce-wrap\">\r\n      <h3>DAO Governance</h3>\r\n      <p>\r\n         LEC Token represents the vote share of DAO governance. You can vote for a proposal by yourself or assign the vote share to a third-party person'\r\n      </p>\r\n    </div>\r\n    <div style=\"display:flex;justify-content:flex-end;margin-top:25px;\">\r\n          <Button type=\"info\" :disabled=\"disabled\" @click=\"handlerPostMotion\" style=\"margin-left:auto;\">\r\n       Announce a proposal\r\n    </Button>\r\n    </div>\r\n\r\n\r\n    <div class=\"motion-list\">\r\n      <h3></h3>\r\n      <div class=\"box\">\r\n        <ul v-if=\"motionListData.length\">\r\n          <li\r\n            v-for=\"(motionItem, index) in motionListData\"\r\n            :key=\"index\"\r\n            @click=\"\r\n              handlerVote(\r\n                motionItem.pid,\r\n                motionItem.OptionsTotalCounts,\r\n                motionItem.name,\r\n                motionItem.status,\r\n                motionItem.add,\r\n                motionItem.stime,\r\n                motionItem.etime,\r\n                motionItem.big,\r\n                motionItem.win\r\n              )\r\n            \"\r\n          >\r\n            <span>{{ motionItem.name.split('|')[0] }}</span>\r\n\r\n            <span>\r\n               <span class=\"vote\" style=\"margin-left:10px;font-size: 16px;\">\r\n                {{ motionItem.big ? \"Major\" : \"General\" }}\r\n              </span>\r\n              <!-- <span :class=\"[motionItem.IsVotingEnd ? 'warning' : 'vote']\">\r\n                {{ motionItem.IsVotingEnd ? \"End\" : \"Voting\" }}\r\n              </span>\r\n              <span\r\n                style=\"margin-left: 15px\"\r\n                :class=\"[motionItem.status ? 'vote' : 'no']\"\r\n              >\r\n                {{ motionItem.status ? \"Valid\" : \"Invalid\" }}\r\n              </span> -->\r\n            </span>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul v-else class=\"nodata\">\r\n          <li style=\"font-weight: 600; font-size: 16px\">\r\n           No proposal. Go to announce a proposal!\r\n          </li>\r\n          <!-- <button @click=\"$router.push('/homeMobile/vote')\"></button> -->\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"amfe-flexible\";\r\nimport { Button, Loading } from \"vant\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { formartadd, setLocalStorage, getLocalStorage } from \"@/utils/utils\";\r\nimport $web3js from \"@/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nexport default {\r\n  components: {\r\n    Button,\r\n    Loading\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      disabled: true,\r\n      dialogVisible: false,\r\n      form: {\r\n        name: \"\",\r\n        options: [\r\n          {\r\n            option: \"\",\r\n          },\r\n        ],\r\n      },\r\n      // 是否重要\r\n      radio: \"1\",\r\n      // 有效时间\r\n      time: \"\",\r\n\r\n      // 提案列表数据\r\n      motionListData: [],\r\n\r\n      vote: this.$contractAddress.vote,\r\n      iecConst: \"\",\r\n\r\n      navs: [\r\n        { label: \"Proposal\", to: \"/homeMobile/motion\" },\r\n        { label: 'Receive', to: '/homeMobile/receive'},\r\n        { label: \"Donations & airdrops\", to: \"/homeMobile/airdrop\" },\r\n      ],\r\n      currentIndex: 0,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  watch: {\r\n    walletaccount: {\r\n      handler(val) {\r\n        if (val != \"\") {\r\n          this.disabled = false;\r\n        }\r\n      },\r\n    },\r\n    deep: true,\r\n    immediate: true,\r\n  },\r\n\r\n  created() {\r\n    this.getcurrentIndex()\r\n      ? (this.currentIndex = this.getcurrentIndex())\r\n      : (this.currentIndex = 0);\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    // 获取提案列表\r\n    this.getvoteList();\r\n  },\r\n\r\n  methods: {\r\n    // 获取提案列表, 路人也可以看到提案列表\r\n    async getvoteList() {\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n\r\n      // console.log(\"000\", this.web3);\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      // console.log(\"111\", this.iecConst.methods);\r\n      // let vm = this;\r\n      let motionListLength = await this.iecConst.methods\r\n        .getProposalLen()\r\n        .call();\r\n      // console.log(\"提案长度\", motionListLength);\r\n      let motionlistLoop = [];\r\n      if (motionListLength) {\r\n        for (let i = motionListLength - 1; i >= 0; i--) {\r\n          let ProposalsCall = await this.iecConst.methods.Proposals(i).call();\r\n          ProposalsCall.pid = i;\r\n          motionlistLoop.push(ProposalsCall);\r\n          this.motionListData = motionlistLoop.map((item, index) => {\r\n            return {\r\n              pid: item.pid,\r\n              name: item.Name,\r\n              status: item.IsEffective,\r\n              OptionsTotalCounts: item.OptionsTotalCounts, // 提案的票数\r\n              IsVotingEnd: item.IsVotingEnd,\r\n              add: item.Chairperson,\r\n              stime: item.StartTime,\r\n              etime: item.EndTime,\r\n              big: item.IsMajorProposal, // 重大提案\r\n              win: item.WinOption,\r\n            };\r\n          });\r\n        }\r\n      } else {\r\n        this.motionListData = [];\r\n      }\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n    // 去投票页面\r\n    handlerVote(\r\n      pid,\r\n      OptionsTotalCounts,\r\n      name,\r\n      status,\r\n      add,\r\n      stime,\r\n      etime,\r\n      big,\r\n      win\r\n    ) {\r\n      this.$router.push({\r\n        path: \"/homeMobile/vote\",\r\n        query: {\r\n          pid: pid,\r\n          optioncount: OptionsTotalCounts,\r\n          name: name,\r\n          status: status,\r\n          add: add,\r\n          stime: stime,\r\n          etime: etime,\r\n          big: big,\r\n          win: win,\r\n        },\r\n      });\r\n    },\r\n\r\n    //Announce a proposal\r\n    handlerPostMotion() {\r\n      this.$router.push({\r\n        path: \"/homeMobile/postMotion\",\r\n      });\r\n    },\r\n    addClass(index) {\r\n      this.currentIndex = index;\r\n      this.setcurrentIndex();\r\n    },\r\n    //存currentIndex\r\n    setcurrentIndex() {\r\n      localStorage.setItem(\"currentIndex\", this.currentIndex);\r\n    },\r\n    //取currentIndex\r\n    getcurrentIndex() {\r\n      var saveStatus = localStorage.getItem(\"currentIndex\");\r\n      this.currentIndex = saveStatus;\r\n      return this.currentIndex;\r\n    },\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.motion-wrap {\r\n  height: 100%;\r\n  padding: 0 15px;\r\n  overflow-y: scroll;\r\n  .text-btn {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 15px 0;\r\n    > span {\r\n      font-size: 22px;\r\n      font-weight: 550;\r\n    }\r\n     .navs {\r\n      display: flex;\r\n      justify-content: center;\r\n      // margin: 0 20px 0 40px;\r\n      font-size: 17px;\r\n      // border-bottom: 4px solid #cff09e;\r\n      // width: 100%;\r\n      cursor: pointer;\r\n      li{\r\n        // margin-left:30px;\r\n        span{\r\n            padding: 5px 0;\r\n            // margin-left: 30px;\r\n            &.actived {\r\n                border-bottom: 4px solid #cff09e;\r\n                font-weight: 700;\r\n            }    \r\n        }\r\n      }\r\n      >li:nth-child(2){\r\n        margin:0 15px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .introduce-wrap {\r\n    margin-top: 25px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    // height: 150px;\r\n    border-radius: 12px;\r\n    padding: 20px 15px;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    background: radial-gradient(\r\n      76.02% 75.41% at 1.84% 0%,\r\n      rgb(176, 220, 255) 0%,\r\n      rgb(122, 163, 216) 100%\r\n    );\r\n    > h3 {\r\n      font-size: 20px;\r\n    }\r\n    > p {\r\n      margin-top: 25px;\r\n    }\r\n  }\r\n\r\n  .motion-list {\r\n    // height: 90%;\r\n    margin-top: 20px;\r\n    overflow-y: scroll;\r\n    // background: #000;\r\n    h3 {\r\n      font-size: 22px;\r\n      font-weight: normal;\r\n    }\r\n    .box {\r\n      min-height: 150px;\r\n      max-height: 400px;\r\n      overflow-y: scroll;\r\n      ul {\r\n        min-height: 150px;\r\n        padding-top: 10px;\r\n        max-height: 400px;\r\n        overflow-y: scroll;\r\n        li {\r\n          background: #aedafd;\r\n          padding: 15px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n          border-radius: 5px;\r\n          cursor: pointer;\r\n          > span:nth-child(1) {\r\n            font-weight: 600;\r\n            font-size: 16px;\r\n          }\r\n          > span:nth-child(2) {\r\n            > span {\r\n              cursor: pointer;\r\n              padding: 5px 8px;\r\n              border-radius: 5px;\r\n            }\r\n          }\r\n          .vote {\r\n            border: 1.5px solid green;\r\n          }\r\n          .no {\r\n            border: 1.5px solid red;\r\n          }\r\n          .warning {\r\n            border: 1.5px solid yellow;\r\n          }\r\n        }\r\n      }\r\n\r\n      .nodata {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./motion.vue?vue&type=template&id=310f410b&scoped=true&\"\nimport script from \"./motion.vue?vue&type=script&lang=js&\"\nexport * from \"./motion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./motion.vue?vue&type=style&index=0&id=310f410b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"310f410b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=style&index=0&id=dee336ec&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=style&index=0&id=310f410b&lang=less&scoped=true&\"","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../loading/index.css';\nimport '../index.css';","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-wrap\"},[_c('div',{staticClass:\"postMotion\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerPostMotion}},[_vm._v(\" Announce a proposal \")])],1),_vm._m(0),_c('div',{staticClass:\"motion-list motionstyle\"},[_c('h3',[_vm._v(\"Proposal\")]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box\"},[(_vm.motionListData.length)?_c('ul',_vm._l((_vm.motionListData),function(motionItem,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.handlerVote(\n              motionItem.pid,\n              motionItem.OptionsTotalCounts,\n              motionItem.name,\n              motionItem.status,\n              motionItem.add,\n              motionItem.stime,\n              motionItem.etime,\n              motionItem.big,\n              motionItem.win\n            )}}},[_c('span',[_vm._v(_vm._s(motionItem.name.split(\"|\")[0]))]),_c('span',[_c('span',{staticClass:\"vote\",staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\" \"+_vm._s(motionItem.big ? \"Major proposal\" : \"General Proposal\")+\" \")])])])}),0):_c('ul',{staticClass:\"nodata\"},[_c('li',{staticStyle:{\"font-weight\":\"600\",\"font-size\":\"16px\"}},[_vm._v(\" No proposal. Go to announce a proposal \")])])])]),_vm._m(1),_c('el-dialog',{attrs:{\"title\":\"Proposal configuration\",\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.tabClick}},[_c('el-tab-pane',{attrs:{\"label\":\"Proposals for major issues\"}},[_c('div',{staticStyle:{\"margin\":\"0 0 10px 18px\"}},[_c('h3',[_vm._v(\"Voting on major issues (MORE THAN HALF NUMBER WINS).\")]),_c('p',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\" 1. Formulate and amend the Basic Law, formulate rules for proposal,decision-making and supervision, etc. \")]),_c('p',[_vm._v(\"2. Election of global representatives.\")]),_c('p',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\" 3. Formulation of specific content rules./p> \")]),_c('p',[_vm._v(\"4. The vote option will be included.\")])]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Proposal Name:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Proposal Name\",\"maxlength\":\"“45\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ERC20 Address\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the ERC20 address\",\"maxlength\":\"“45\"},model:{value:(_vm.newErcAdd),callback:function ($$v) {_vm.newErcAdd=$$v},expression:\"newErcAdd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Proposal Info:\"}},[_c('el-input',{attrs:{\"maxlength\":\"“45\",\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"Please input the proposal introduction, related links, and public welfare project contact person\"},model:{value:(_vm.newInfo),callback:function ($$v) {_vm.newInfo=$$v},expression:\"newInfo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Valid Time:\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Please input the Valid Time\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Proposal Option:\"}},_vm._l((_vm.form.options),function(item,index){return _c('div',{key:index},[_c('el-input',{attrs:{\"width\":\"500px\",\"placeholder\":\"Please input the Proposal Option\",\"maxlength\":\"“50”\"},model:{value:(item.option),callback:function ($$v) {_vm.$set(item, \"option\", $$v)},expression:\"item.option\"}}),(index >= 0)?_c('el-tooltip',{attrs:{\"content\":\"Add an option\",\"placement\":\"bottom\",\"effect\":\"dark\"}},[_c('span',{staticClass:\"button button-action button-rounded button-small\",staticStyle:{\"margin\":\"0 10px\"},on:{\"click\":_vm.addSearchOptions}},[_c('i',{staticClass:\"fa fa-plus\"})])]):_vm._e(),(index >= 1)?_c('el-tooltip',{attrs:{\"content\":\"Delete an option\",\"placement\":\"bottom\",\"effect\":\"dark\"}},[_c('span',{staticClass:\"button button-caution button-rounded button-small\",on:{\"click\":function($event){return _vm.delSearchOptions(index)}}},[_c('i',{staticClass:\"fa fa-minus\"})])]):_vm._e()],1)}),0)],1),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogConfirm}},[_vm._v(\"Confirm\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"General Proposal\"}},[_c('div',{staticStyle:{\"margin\":\"0 0 10px 18px\"}},[_c('h3',[_vm._v(\" Voting on general proposal (the winner with the first number of votes). \")]),_c('p',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\" 1. Charity to which you donate each month. \")]),_c('p',[_vm._v(\"2. The Use of Treasury Fund (Celebrity Award).\")]),_c('p',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\" 3. Election of regional public opinion representatives (Regional representative: responsible for collecting and verifying humanitarian aid projects around the world) . \")]),_c('p',[_vm._v(\"4. The vote option will be included.\")])]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Proposal Name:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Proposal Name\",\"maxlength\":\"“45\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ERC20 address\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the ERC20 address\",\"maxlength\":\"“45\"},model:{value:(_vm.newErcAdd),callback:function ($$v) {_vm.newErcAdd=$$v},expression:\"newErcAdd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Proposal Info:\"}},[_c('el-input',{attrs:{\"maxlength\":\"“45\",\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"Please input the proposal introduction, related links, and public welfare project contact person\"},model:{value:(_vm.newInfo),callback:function ($$v) {_vm.newInfo=$$v},expression:\"newInfo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Valid Time:\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Please input the Valid Time\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Proposal Option:\"}},_vm._l((_vm.form.options),function(item,index){return _c('div',{key:index,staticClass:\"optionbox\"},[_c('el-input',{attrs:{\"width\":\"500px\",\"placeholder\":\"Please input the Proposal Option\",\"maxlength\":\"“50”\"},model:{value:(item.option),callback:function ($$v) {_vm.$set(item, \"option\", $$v)},expression:\"item.option\"}}),(index >= 0)?_c('el-tooltip',{attrs:{\"content\":\"Add an option\",\"placement\":\"bottom\",\"effect\":\"dark\"}},[_c('span',{staticClass:\"button button-action button-rounded button-small\",staticStyle:{\"margin\":\"0 10px\"},on:{\"click\":_vm.addSearchOptions}},[_c('i',{staticClass:\"fa fa-plus\"})])]):_vm._e(),(index >= 1)?_c('el-tooltip',{attrs:{\"content\":\"Delete an option\",\"placement\":\"bottom\",\"effect\":\"dark\"}},[_c('span',{staticClass:\"button button-caution button-rounded button-small\",on:{\"click\":function($event){return _vm.delSearchOptions(index)}}},[_c('i',{staticClass:\"fa fa-minus\"})])]):_vm._e()],1)}),0)],1),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogConfirm}},[_vm._v(\"Confirm\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"introduce-wrap\"},[_c('h3',[_vm._v(\"DAO Governance\")]),_c('p',[_vm._v(\" LEC Token represents the vote share of DAO governance. You can vote for a proposal by yourself or assign the vote share to a third-party person' \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"motion-list\"},[_c('h3',[_vm._v(\"Tips:\")]),_c('div',{staticClass:\"box\",staticStyle:{\"margin-left\":\"45px\",\"font-size\":\"15px\"}},[_c('h2',[_vm._v(\"How to connect my wallet and propose a vote?\")]),_c('h2',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\" To propose a poll, a wallet must be connected \")]),_c('p',[_vm._v(\"1. Open your wallet App\")]),_c('p',[_vm._v(\"2. Click \\\"Browser\\\" or \\\"Search DApp\\\"\")]),_c('p',[_vm._v(\"3. Input \\\"https://vote4loveearth.com\\\" to visit the vote page\")]),_c('p',[_vm._v(\"4. Click “Connect Wallet\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vote-wrap\">\r\n    <div class=\"postMotion\">\r\n      <el-button type=\"primary\" :disabled=\"disabled\" @click=\"handlerPostMotion\">\r\n        Announce a proposal\r\n      </el-button>\r\n    </div>\r\n    <!-- 介绍 -->\r\n    <div class=\"introduce-wrap\">\r\n      <h3>DAO Governance</h3>\r\n      <p>\r\n        LEC Token represents the vote share of DAO governance. You can vote for\r\n        a proposal by yourself or assign the vote share to a third-party person'\r\n      </p>\r\n    </div>\r\n    <!-- 提案列表 -->\r\n    <div class=\"motion-list motionstyle\">\r\n      <h3>Proposal</h3>\r\n      <div v-loading=\"loading\" class=\"box\">\r\n        <ul v-if=\"motionListData.length\">\r\n          <li\r\n            v-for=\"(motionItem, index) in motionListData\"\r\n            :key=\"index\"\r\n            @click=\"\r\n              handlerVote(\r\n                motionItem.pid,\r\n                motionItem.OptionsTotalCounts,\r\n                motionItem.name,\r\n                motionItem.status,\r\n                motionItem.add,\r\n                motionItem.stime,\r\n                motionItem.etime,\r\n                motionItem.big,\r\n                motionItem.win\r\n              )\r\n            \"\r\n          >\r\n            <span>{{ motionItem.name.split(\"|\")[0] }}</span>\r\n\r\n            <span>\r\n              <span class=\"vote\" style=\"margin-right: 10px\">\r\n                {{ motionItem.big ? \"Major proposal\" : \"General Proposal\" }}\r\n              </span>\r\n              <!-- <span :class=\"[motionItem.IsVotingEnd ? 'warning' : 'vote']\">\r\n                {{ motionItem.IsVotingEnd ? \"End of voting\" : \"Voting\" }}\r\n              </span>\r\n              <span\r\n                style=\"margin-left: 10px\"\r\n                :class=\"[motionItem.status ? 'vote' : 'no']\"\r\n              >\r\n                {{ motionItem.status ? \"Valid\" : \"Invalid\" }}\r\n              </span> -->\r\n            </span>\r\n          </li>\r\n        </ul>\r\n        <ul v-else class=\"nodata\">\r\n          <li style=\"font-weight: 600; font-size: 16px\">\r\n            No proposal. Go to announce a proposal\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"motion-list\">\r\n      <h3>Tips:</h3>\r\n      <div class=\"box\" style=\"margin-left: 45px; font-size: 15px\">\r\n        <h2>How to connect my wallet and propose a vote?</h2>\r\n        <h2 style=\"margin-bottom: 10px\">\r\n          To propose a poll, a wallet must be connected\r\n        </h2>\r\n        <p>1. Open your wallet App</p>\r\n        <p>2. Click \"Browser\" or \"Search DApp\"</p>\r\n        <p>3. Input \"https://vote4loveearth.com\" to visit the vote page</p>\r\n        <p>4. Click “Connect Wallet</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 提案 -->\r\n    <el-dialog\r\n      title=\"Proposal configuration\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"50%\"\r\n    >\r\n      <el-tabs type=\"border-card\" @tab-click=\"tabClick\">\r\n        <el-tab-pane label=\"Proposals for major issues\">\r\n          <div style=\"margin: 0 0 10px 18px\">\r\n            <h3>Voting on major issues (MORE THAN HALF NUMBER WINS).</h3>\r\n            <p style=\"margin: 5px 0\">\r\n              1. Formulate and amend the Basic Law, formulate rules for\r\n              proposal,decision-making and supervision, etc.\r\n            </p>\r\n            <p>2. Election of global representatives.</p>\r\n            <p style=\"margin: 5px 0\">\r\n              3. Formulation of specific content rules./p>\r\n            </p>\r\n            <p>4. The vote option will be included.</p>\r\n          </div>\r\n          <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\r\n            <!-- Proposal Name -->\r\n            <el-form-item label=\"Proposal Name:\">\r\n              <el-input\r\n                v-model=\"newName\"\r\n                placeholder=\"Please input the Proposal Name\"\r\n                maxlength=\"“45\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!--捐赠接受人erc20地址 -->\r\n            <el-form-item label=\"ERC20 Address\">\r\n              <el-input\r\n                v-model=\"newErcAdd\"\r\n                placeholder=\"Please input the ERC20 address\"\r\n                maxlength=\"“45\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!--议案介绍、相关链接、公益项目联系人 -->\r\n            <el-form-item label=\"Proposal Info:\">\r\n              <el-input\r\n                v-model=\"newInfo\"\r\n                maxlength=\"“45\"\r\n                type=\"textarea\"\r\n                :rows=\"3\"\r\n                placeholder=\"Please input the proposal introduction, related links, and public welfare project contact person\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"Valid Time:\">\r\n              <el-input\r\n                v-model=\"time\"\r\n                type=\"number\"\r\n                placeholder=\"Please input the Valid Time\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!-- 提案选贤 -->\r\n            <el-form-item label=\"Proposal Option:\">\r\n              <div v-for=\"(item, index) in form.options\" :key=\"index\">\r\n                <el-input\r\n                  width=\"500px\"\r\n                  placeholder=\"Please input the Proposal Option\"\r\n                  maxlength=\"“50”\"\r\n                  v-model=\"item.option\"\r\n                >\r\n                </el-input>\r\n                <el-tooltip\r\n                  v-if=\"index >= 0\"\r\n                  content=\"Add an option\"\r\n                  placement=\"bottom\"\r\n                  effect=\"dark\"\r\n                >\r\n                  <span\r\n                    style=\"margin: 0 10px\"\r\n                    class=\"button button-action button-rounded button-small\"\r\n                    @click=\"addSearchOptions\"\r\n                  >\r\n                    <i class=\"fa fa-plus\"></i>\r\n                  </span>\r\n                </el-tooltip>\r\n                <el-tooltip\r\n                  v-if=\"index >= 1\"\r\n                  content=\"Delete an option\"\r\n                  placement=\"bottom\"\r\n                  effect=\"dark\"\r\n                >\r\n                  <span\r\n                    class=\"button button-caution button-rounded button-small\"\r\n                    @click=\"delSearchOptions(index)\"\r\n                  >\r\n                    <i class=\"fa fa-minus\"></i>\r\n                  </span>\r\n                </el-tooltip>\r\n              </div>\r\n            </el-form-item>\r\n          </el-form>\r\n\r\n          <span style=\"margin-left: 20px\">\r\n            <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogConfirm\">Confirm</el-button>\r\n          </span>\r\n        </el-tab-pane>\r\n\r\n        <!-- 2 -->\r\n        <el-tab-pane label=\"General Proposal\">\r\n          <div style=\"margin: 0 0 10px 18px\">\r\n            <h3>\r\n              Voting on general proposal (the winner with the first number of\r\n              votes).\r\n            </h3>\r\n            <p style=\"margin: 5px 0\">\r\n              1. Charity to which you donate each month.\r\n            </p>\r\n            <p>2. The Use of Treasury Fund (Celebrity Award).</p>\r\n            <p style=\"margin: 5px 0\">\r\n              3. Election of regional public opinion representatives (Regional\r\n              representative: responsible for collecting and verifying\r\n              humanitarian aid projects around the world) .\r\n            </p>\r\n            <p>4. The vote option will be included.</p>\r\n          </div>\r\n\r\n          <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\r\n            <!-- Proposal Name -->\r\n            <el-form-item label=\"Proposal Name:\">\r\n              <el-input\r\n                v-model=\"newName\"\r\n                placeholder=\"Please input the Proposal Name\"\r\n                maxlength=\"“45\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!--捐赠接受人erc20地址 -->\r\n            <el-form-item label=\"ERC20 address\">\r\n              <el-input\r\n                v-model=\"newErcAdd\"\r\n                placeholder=\"Please input the ERC20 address\"\r\n                maxlength=\"“45\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!--议案介绍、相关链接、公益项目联系人 -->\r\n            <el-form-item label=\"Proposal Info:\">\r\n              <el-input\r\n                v-model=\"newInfo\"\r\n                maxlength=\"“45\"\r\n                type=\"textarea\"\r\n                :rows=\"3\"\r\n                placeholder=\"Please input the proposal introduction, related links, and public welfare project contact person\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"Valid Time:\">\r\n              <el-input\r\n                v-model=\"time\"\r\n                type=\"number\"\r\n                placeholder=\"Please input the Valid Time\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <!-- 提案选贤 -->\r\n            <el-form-item label=\"Proposal Option:\">\r\n              <div\r\n                v-for=\"(item, index) in form.options\"\r\n                :key=\"index\"\r\n                class=\"optionbox\"\r\n              >\r\n                <el-input\r\n                  width=\"500px\"\r\n                  placeholder=\"Please input the Proposal Option\"\r\n                  maxlength=\"“50”\"\r\n                  v-model=\"item.option\"\r\n                >\r\n                </el-input>\r\n                <el-tooltip\r\n                  v-if=\"index >= 0\"\r\n                  content=\"Add an option\"\r\n                  placement=\"bottom\"\r\n                  effect=\"dark\"\r\n                >\r\n                  <span\r\n                    style=\"margin: 0 10px\"\r\n                    class=\"button button-action button-rounded button-small\"\r\n                    @click=\"addSearchOptions\"\r\n                  >\r\n                    <i class=\"fa fa-plus\"></i>\r\n                  </span>\r\n                </el-tooltip>\r\n                <el-tooltip\r\n                  v-if=\"index >= 1\"\r\n                  content=\"Delete an option\"\r\n                  placement=\"bottom\"\r\n                  effect=\"dark\"\r\n                >\r\n                  <span\r\n                    class=\"button button-caution button-rounded button-small\"\r\n                    @click=\"delSearchOptions(index)\"\r\n                  >\r\n                    <i class=\"fa fa-minus\"></i>\r\n                  </span>\r\n                </el-tooltip>\r\n              </div>\r\n            </el-form-item>\r\n          </el-form>\r\n          <span style=\"margin-left: 20px\">\r\n            <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogConfirm\">Confirm</el-button>\r\n          </span>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { formartadd, setLocalStorage, getLocalStorage } from \"@/utils/utils\";\r\nimport $web3js from \"../../../src/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nexport default {\r\n  name: \"motion\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      disabled: true,\r\n      dialogVisible: false,\r\n\r\n      // 修改议案提交名称拼接\r\n      newName: \"\",\r\n      newErcAdd: \"\",\r\n      newInfo: \"\",\r\n      form: {\r\n        name: \"\",\r\n        options: [\r\n          {\r\n            option: \"\",\r\n          },\r\n        ],\r\n      },\r\n      // 是否重要提案\r\n      radio: 1,\r\n      // 有效时间\r\n      time: \"\",\r\n\r\n      // 提案列表数据\r\n      motionListData: [],\r\n\r\n      vote: this.$contractAddress.vote,\r\n      iecConst: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  watch: {\r\n    walletaccount: {\r\n      handler(val) {\r\n        if (val != \"\") {\r\n          this.disabled = false;\r\n        }\r\n      },\r\n    },\r\n    deep: true,\r\n    immediate: true,\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    /**\r\n     *  将字符串转成 byte 32\r\n     *\r\n     */\r\n    // console.log($web3js.byte32ToString(\"0xe998bfe4b88de68f90e6a1883100000000000000000000000000000000000000\"))\r\n    this.getvoteList();\r\n  },\r\n\r\n  methods: {\r\n    // 点击 tab\r\n    tabClick(tab) {\r\n      if (tab.label === \"Proposals for major issues\") {\r\n        this.radio = 1;\r\n      } else {\r\n        this.radio = 2;\r\n      }\r\n      this.resetOptions();\r\n    },\r\n    // 获取提案列表, 路人也可以看到提案列表\r\n    async getvoteList() {\r\n      this.connectMetaMask();\r\n\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      // let vm = this;\r\n      let motionListLength = await this.iecConst.methods\r\n        .getProposalLen()\r\n        .call();\r\n      // console.log(\"提案长度\", motionListLength);\r\n      let motionlistLoop = [];\r\n      if (motionListLength) {\r\n        for (let i = motionListLength - 1; i >= 0; i--) {\r\n          let ProposalsCall = await this.iecConst.methods.Proposals(i).call();\r\n          // console.log('op', ProposalsCall)\r\n          ProposalsCall.pid = i;\r\n          motionlistLoop.push(ProposalsCall);\r\n          this.motionListData = motionlistLoop.map((item, index) => {\r\n            return {\r\n              pid: item.pid,\r\n              name: item.Name,\r\n              status: item.IsEffective,\r\n              OptionsTotalCounts: item.OptionsTotalCounts, // 提案的票数\r\n              IsVotingEnd: item.IsVotingEnd,\r\n              add: item.Chairperson,\r\n              stime: item.StartTime,\r\n              etime: item.EndTime,\r\n              big: item.IsMajorProposal, // 重大提案\r\n              win: item.WinOption,\r\n            };\r\n          });\r\n        }\r\n      } else {\r\n        this.motionListData = [];\r\n      }\r\n\r\n      this.loading = false;\r\n\r\n\r\n      // console.log('okokok', this.motionListData);\r\n      // let motionInfos = await this.iecConst.methods\r\n      //   .Proposals(motionListLength - 1)\r\n      //   .call();\r\n      // console.log(\"motionObj\", motionInfos);\r\n      // let motionObj = {\r\n      //   pid: 0,\r\n      //   name: $web3js.byte32ToString(motionInfos.Name),\r\n      //   status: motionInfos.IsEffective,\r\n      //   OptionsTotalCounts: motionInfos.OptionsTotalCounts,\r\n      // };\r\n      // this.motionListData.push(motionObj);\r\n    },\r\n    // 发表提案\r\n    handlerPostMotion() {\r\n      this.dialogVisible = true;\r\n      this.resetOptions();\r\n    },\r\n\r\n    // 投票\r\n    handlerVote(\r\n      pid,\r\n      OptionsTotalCounts,\r\n      name,\r\n      status,\r\n      add,\r\n      stime,\r\n      etime,\r\n      big,\r\n      win\r\n    ) {\r\n      this.$router.push({\r\n        path: \"/home/vote\",\r\n        query: {\r\n          pid: pid,\r\n          optioncount: OptionsTotalCounts,\r\n          name: name,\r\n          status: status,\r\n          add: add,\r\n          stime: stime,\r\n          etime: etime,\r\n          big: big,\r\n          win: win,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 提案Confirm\r\n    dialogConfirm() {\r\n      if (this.time > 30) {\r\n        this.$message({\r\n          message: \"The valid time of a proposal can not exceed 30 days\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      } else if (this.time < 1) {\r\n        this.$message({\r\n          message: \"The valid time of a proposal can not be less than 1 day\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.form.name = this.newName + \"|\" + this.newErcAdd + \"|\" + this.newInfo;\r\n      // console.log(\"0909\", this.form.name);\r\n\r\n      this.writeMotion();\r\n    },\r\n\r\n    // 写提案\r\n    async writeMotion() {\r\n      // try catch\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n\r\n      // 拼接 Proposal Name\r\n      // this.form.name = this.newName + \"|\" + this.newErcAdd + \"|\" + this.newInfo;\r\n      // let _name = $web3js.stringToBytes32(this.form.name);\r\n      // let _name = $web3js.stringToBytes32(this.newName) + '|' + $web3js.stringToBytes32(this.newErcAdd) + '|' +$web3js.stringToBytes32(this.newInfo);\r\n      //  let _name = $web3js.stringToBytes32(this.newErcAdd);\r\n      let _name = (this.form.name =\r\n        this.newName + \"|\" + this.newErcAdd + \"|\" + this.newInfo);\r\n      // console.log(\"ooo\", _name);\r\n      let _days = this.time;\r\n      let _isMajorProposal = this.radio == 1 ? true : false;\r\n      let _AOptions,\r\n        _BOptions,\r\n        _COptions,\r\n        _DOptions,\r\n        _FOptions = \"\";\r\n      if (this.form.options.length == 1) {\r\n        _AOptions = this.form.options[0].option;\r\n        _BOptions = \"NO\";\r\n        _COptions = \"NO\";\r\n        _DOptions = \"NO\";\r\n        _FOptions = \"Reject all options\";\r\n      } else if (this.form.options.length == 2) {\r\n        _AOptions = this.form.options[0].option;\r\n        _BOptions = this.form.options[1].option;\r\n        _COptions = \"NO\";\r\n        _DOptions = \"NO\";\r\n        _FOptions = \"Reject all options\";\r\n      } else if (this.form.options.length == 3) {\r\n        _AOptions = this.form.options[0].option;\r\n        _BOptions = this.form.options[1].option;\r\n        _COptions = this.form.options[2].option;\r\n        _DOptions = \"NO\";\r\n        _FOptions = \"Reject all options\";\r\n      } else if (this.form.options.length == 4) {\r\n        _AOptions = this.form.options[0].option;\r\n        _BOptions = this.form.options[1].option;\r\n        _COptions = this.form.options[2].option;\r\n        _DOptions = this.form.options[3].option;\r\n        _FOptions = \"Reject all options\";\r\n      }\r\n      let vm = this;\r\n      let messageNo;\r\n\r\n      vm.iecConst.methods\r\n        .proposal(\r\n          _name,\r\n          _AOptions,\r\n          _BOptions,\r\n          _COptions,\r\n          _DOptions,\r\n          _FOptions,\r\n          _isMajorProposal,\r\n          _days\r\n        )\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"提案成功\",\r\n              type: \"success\",\r\n            });\r\n            vm.motionListData = [];\r\n            // 重置选项\r\n            vm.resetOptions();\r\n            vm.dialogVisible = false;\r\n            vm.getvoteList();\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Proposal failed, please try again later\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Add an option\r\n    addSearchOptions() {\r\n      if (this.form.options.length < 4) {\r\n        this.form.options.push({\r\n          option: \"\",\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: \"No more than four options of a proposal\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n\r\n    // Delete an option\r\n    delSearchOptions(index) {\r\n      this.form.options.splice(index, 1);\r\n    },\r\n\r\n    resetOptions() {\r\n      this.newName = \"\";\r\n      this.newErcAdd = \"\";\r\n      this.newInfo = \"\";\r\n      let formRest = {\r\n        name: \"\",\r\n        options: [\r\n          {\r\n            option: \"\",\r\n          },\r\n        ],\r\n      };\r\n      this.form = JSON.parse(JSON.stringify(formRest));\r\n    },\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.vote-wrap {\r\n  // background: red;\r\n  padding: 10px 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n\r\n  .postMotion {\r\n    margin: 0px 0 15px auto;\r\n    padding-right: 60px;\r\n  }\r\n\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    // height: 150px;\r\n    border-radius: 12px;\r\n    padding: 20px 15px;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    background: radial-gradient(\r\n      76.02% 75.41% at 1.84% 0%,\r\n      rgb(176, 220, 255) 0%,\r\n      rgb(122, 163, 216) 100%\r\n    );\r\n    > h3 {\r\n      font-size: 20px;\r\n    }\r\n    > p {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n\r\n  .motionstyle {\r\n    .box {\r\n      min-height: 300px;\r\n      padding-top: 10px;\r\n      max-height: 350px;\r\n      overflow-y: scroll;\r\n      border-radius: 12px;\r\n      ul {\r\n        border-radius: 12px;\r\n        background: radial-gradient(\r\n          76.02% 75.41% at 1.84% 0%,\r\n          rgb(176, 220, 255) 0%,\r\n          rgb(122, 163, 216) 100%\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // 提案列表\r\n  .motion-list {\r\n    margin-top: 10px;\r\n    padding: 5px 0px;\r\n    max-height: 400px;\r\n    // background:red;\r\n    width: 60%;\r\n    h3 {\r\n      font-size: 22px;\r\n      font-weight: normal;\r\n    }\r\n    .box {\r\n      ul {\r\n        min-height: 250px;\r\n        padding: 15px 10px;\r\n        max-height: 350px;\r\n        overflow-y: scroll;\r\n        li {\r\n          background: #F1F7FF;\r\n          padding: 10px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n          border-radius: 5px;\r\n          cursor: pointer;\r\n          > span:nth-child(1) {\r\n            font-weight: 600;\r\n            font-size: 16px;\r\n          }\r\n          > span:nth-child(2) {\r\n            display: flex;\r\n            align-items: center;\r\n            > span {\r\n              cursor: pointer;\r\n              padding: 5px 8px;\r\n              border-radius: 5px;\r\n            }\r\n          }\r\n          .vote {\r\n            border: 1.5px solid green;\r\n          }\r\n          .no {\r\n            border: 1.5px solid red;\r\n          }\r\n          .warning {\r\n            border: 1.5px solid yellow;\r\n          }\r\n        }\r\n      }\r\n\r\n      .nodata {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n    }\r\n  }\r\n\r\n  /deep/ .el-input {\r\n    width: 85%;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  /deep/ .el-tabs__content {\r\n    max-height: 400px;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  /deep/ .el-dialog__body {\r\n    padding-top: 15px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./motion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./motion.vue?vue&type=template&id=dee336ec&scoped=true&\"\nimport script from \"./motion.vue?vue&type=script&lang=js&\"\nexport * from \"./motion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./motion.vue?vue&type=style&index=0&id=dee336ec&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dee336ec\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}