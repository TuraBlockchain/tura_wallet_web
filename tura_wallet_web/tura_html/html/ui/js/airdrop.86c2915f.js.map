{
  "version": 3,
  "sources": [
    "webpack:///./src/views/MobilePages/vote/airdrop.vue?e65c",
    "webpack:///src/views/MobilePages/vote/airdrop.vue",
    "webpack:///./src/views/MobilePages/vote/airdrop.vue?9393",
    "webpack:///./src/views/MobilePages/vote/airdrop.vue",
    "webpack:///./src/views/MobilePages/vote/receive.vue?da84",
    "webpack:///src/views/MobilePages/vote/receive.vue",
    "webpack:///./src/views/MobilePages/vote/receive.vue?9d68",
    "webpack:///./src/views/MobilePages/vote/receive.vue",
    "webpack:///./src/views/MobilePages/vote/airdrop.vue?0c19",
    "webpack:///./src/views/MobilePages/vote/receive.vue?ba27",
    "webpack:///./src/views/vote/airdrop.vue?3553",
    "webpack:///./src/views/vote/airdrop.vue?b867",
    "webpack:///src/views/vote/airdrop.vue",
    "webpack:///./src/views/vote/airdrop.vue?91b5",
    "webpack:///./src/views/vote/airdrop.vue"
  ],
  "names": [
    "render",
    "_vm",
    "this",
    "_h",
    "$createElement",
    "_c",
    "_self",
    "staticClass",
    "attrs",
    "model",
    "value",
    "callback",
    "$$v",
    "donationAdd",
    "expression",
    "staticStyle",
    "disabled",
    "on",
    "handlerSubmit",
    "_v",
    "staticRenderFns",
    "data",
    "vote",
    "$contractAddress",
    "iecConst",
    "donationContractAdd",
    "conadd",
    "donationConst",
    "isadid",
    "components",
    "Field",
    "Button",
    "Tab",
    "Tabs",
    "created",
    "isDid",
    "methods",
    "connectMetaMask",
    "component",
    "isairdropnoexpire",
    "_e",
    "_s",
    "formatDateTime",
    "airdropdetailendtime",
    "airdropCoinNumber",
    "airdropCoinTatol",
    "hasairdropNumber",
    "receiveAirdrop",
    "isadmin",
    "ref",
    "expireDate",
    "receiveNum",
    "airdropTotal",
    "setExpiredTime",
    "handlerToAuth",
    "receiveId",
    "iectokenAuthed",
    "isAuthedSuccess",
    "iecTokenContract",
    "iecToken",
    "onlyairdropContractAdd",
    "onlyairdropConst",
    "computed",
    "activated",
    "handlerIsAdmin",
    "getreceiveId",
    "isAuthed",
    "web3",
    "$web3js",
    "getWeb3",
    "Web3",
    "myaddress",
    "eth",
    "Contract",
    "vm",
    "$toast",
    "message",
    "setconfigInfo",
    "formAirdrop",
    "airdropAdd",
    "airdropNum",
    "airdropAddArr",
    "tokenAirDropAddr",
    "tokenAirDropAddrArr",
    "airdropConst"
  ],
  "mappings": "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",
  "file": "js/airdrop.86c2915f.js",
  "sourcesContent": [
    "var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-motion\"},[_c('div',{staticClass:\"content\"},[_c('Field',{attrs:{\"autosize\":\"\",\"type\":\"textarea\",\"label\":\"地址：\",\"placeholder\":\"请输入地址，格式如：TS-62L8-3W9P-BFL7-EFRHV\"},model:{value:(_vm.donationAdd),callback:function ($$v) {_vm.donationAdd=$$v},expression:\"donationAdd\"}}),_c('Button',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerSubmit}},[_vm._v(\" 提交 \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }",
    "<template>\r\n  <div class=\"post-motion\">\r\n    <div class=\"content\">\r\n      <Field\r\n        v-model=\"donationAdd\"\r\n        autosize\r\n        type=\"textarea\"\r\n        label=\"地址：\"\r\n        placeholder=\"请输入地址，格式如：TS-62L8-3W9P-BFL7-EFRHV\"\r\n      >\r\n      </Field>\r\n      <Button  \r\n        style=\"margin-top: 50px;\"\r\n        type=\"info\" \r\n        :disabled=\"disabled\"\r\n        @click=\"handlerSubmit\">\r\n        提交\r\n      </Button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Field, Button, Tab, Tabs } from \"vant\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { formartadd, setLocalStorage, getLocalStorage } from \"@/utils/utils\";\r\nimport $web3js from \"../../../lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nconst donation = require(\"@/lib/contract/contractAbi/donation.json\");\r\nconst airdrop = require(\"@/lib/contract/contractAbi/airdrop.json\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      donationAdd: \"\", // 捐赠地址\r\n      disabled: false,\r\n\r\n      vote: this.$contractAddress.vote,\r\n      iecConst: \"\",\r\n\r\n      donationContractAdd: this.$contractAddress.conadd, // 捐赠合约地址\r\n      donationConst: \"\", // 捐赠方法主体\r\n      isadid: false,\r\n    };\r\n  },\r\n\r\n  components: {\r\n    Field,\r\n    Button,\r\n    Tab,\r\n    Tabs,\r\n  },\r\n\r\n  created() {\r\n    this.isDid()\r\n  },\r\n\r\n  methods: {\r\n    // 捐赠\r\n    async handlerSubmit() {\r\n      // console.log('lll', this.myaddress);\r\n      if (getLocalStorage(\"walletaccount\") === null) {\r\n        this.$toast({ message: \"请链接钱包\" });\r\n        return;\r\n      }\r\n\r\n      if (this.donationAdd === \"\") {\r\n        this.$toast({ message: \"请输入地址\" });\r\n        return;\r\n      }\r\n\r\n      var reg = /^TS-[A-Za-z0-9]/;\r\n\r\n      if (!reg.test(this.donationAdd)) {\r\n        this.$toast({\r\n          message: \"请检查输入地址格式\"\r\n        });\r\n        return;\r\n      }\r\n\r\n      if(this.isadid) {\r\n        this.$message({\r\n          message: \"当前帐户已提交\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.donationConst = new this.web3.eth.Contract(\r\n        donation.abi,\r\n        this.donationContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      // console.log(vm.donationConst);\r\n      vm.donationConst.methods\r\n        .setPeth(vm.donationAdd)\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"交易正在打包，请勿退出\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"提交成功\",\r\n            });\r\n            vm.donationAdd = \"\";\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"提交失败,稍后再试\",\r\n          });\r\n        });\r\n    },\r\n\r\n    async isDid() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.donationConst = new this.web3.eth.Contract(\r\n        donation.abi,\r\n        this.donationContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n\r\n      let isdid = await this.donationConst.methods\r\n        .IsSave(this.myaddress)\r\n        .call({\r\n          from: this.myaddress,\r\n        });\r\n        // console.log('isdid', isdid);\r\n        this.isadid = isdid;\r\n    },\r\n\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.post-motion {\r\n  > h2 {\r\n    font-size: 16px;\r\n    padding: 15px;\r\n  }\r\n  .content {\r\n    padding: 0 15px;\r\n    margin-top: 25px;\r\n    text-align: center;\r\n    .optionBox {\r\n      display: flex;\r\n      align-items: center;\r\n      .size {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 32px;\r\n        height: 32px;\r\n      }\r\n    }\r\n    .btnbox {\r\n      display: flex;\r\n      margin-top: 45px;\r\n      justify-content: center;\r\n      > button:nth-child(1) {\r\n        margin-right: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .van-field__control{\r\n  // min-height: 400px;\r\n  // max-height: 400px;\r\n}\r\n\r\n/deep/ .van-cell {\r\n  margin: 25px 0;\r\n}\r\n/deep/ .van-field__label {\r\n  width: auto;\r\n}\r\n/deep/ .van-tabs__nav {\r\n  background: #aedafd;\r\n}\r\n/deep/ .van-tabs__line {\r\n  background-color: #209cff;\r\n}\r\n/deep/ .van-tab__text {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n",
    "import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=script&lang=js&\"",
    "import { render, staticRenderFns } from \"./airdrop.vue?vue&type=template&id=27613a9a&scoped=true&\"\nimport script from \"./airdrop.vue?vue&type=script&lang=js&\"\nexport * from \"./airdrop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./airdrop.vue?vue&type=style&index=0&id=27613a9a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27613a9a\",\n  null\n  \n)\n\nexport default component.exports",
    "var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"airdrop-wrap\"},[_c('div',{staticClass:\"introduce-wrap\"},[(!_vm.isairdropnoexpire)?_c('div',{staticStyle:{\"margin-left\":\"30px\"}},[_c('h2',[_vm._v(\"Deadline of the period：\")]),_c('h3',{staticStyle:{\"margin\":\"5px 15px 0\"}},[_vm._v(\" \"+_vm._s(_vm.formatDateTime(_vm.airdropdetailendtime * 1000) || \"--\")+\" \")]),_c('h2',{staticStyle:{\"margin\":\"8px 0\"}},[_vm._v(\"Airdrop number：\")]),_c('h3',{staticStyle:{\"margin\":\"5px 15px 0\"}},[_vm._v(\" \"+_vm._s(_vm.airdropCoinNumber || 0)+\" \")]),_c('h2',{staticStyle:{\"margin\":\"8px 0\"}},[_vm._v(\"Total number of airdrops：\")]),_c('h3',{staticStyle:{\"margin\":\"5px 15px 0\"}},[_vm._v(\" \"+_vm._s(_vm.airdropCoinTatol || 0)+\" \")]),_c('h2',{staticStyle:{\"margin\":\"8px 0\"}},[_vm._v(\"Airdropped quantity：\")]),_c('h3',{staticStyle:{\"margin\":\"5px 15px 0\"}},[_vm._v(\" \"+_vm._s(_vm.hasairdropNumber || 0)+\" \")])]):_vm._e(),_c('div',{staticStyle:{\"margin\":\"20px 0 50px\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.receiveAirdrop}},[_vm._v(\"Receive Airdrop\")])],1),(_vm.isadmin && _vm.isairdropnoexpire)?_c('div',{staticStyle:{\"margin-bottom\":\"70px\"}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"Expire Date:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Expire Date\",\"maxlength\":\"“45\"},model:{value:(_vm.expireDate),callback:function ($$v) {_vm.expireDate=$$v},expression:\"expireDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Number of airdrops:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Number of airdrops\",\"maxlength\":\"“45\"},model:{value:(_vm.receiveNum),callback:function ($$v) {_vm.receiveNum=$$v},expression:\"receiveNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Airdrop Total:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Airdrop Total\",\"maxlength\":\"“45\"},model:{value:(_vm.airdropTotal),callback:function ($$v) {_vm.airdropTotal=$$v},expression:\"airdropTotal\"}})],1)],1),(_vm.isAuthedSuccess)?_c('el-button',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.setExpiredTime}},[_vm._v(\"Set Config\")]):_c('el-button',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerToAuth}},[_vm._v(\"Authorize\")])],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }",
    "<template>\r\n  <div class=\"airdrop-wrap\">\r\n    <div class=\"introduce-wrap\">\r\n      <div style=\"margin-left: 30px\" v-if=\"!isairdropnoexpire\">\r\n        <h2>Deadline of the period：</h2>\r\n        <h3 style=\"margin:5px 15px 0;\">\r\n          {{ formatDateTime(airdropdetailendtime * 1000) || \"--\" }}\r\n        </h3>\r\n        <h2 style=\"margin:8px 0\">Airdrop number：</h2>\r\n        <h3 style=\"margin:5px 15px 0;\">\r\n          {{ airdropCoinNumber || 0 }}\r\n        </h3>\r\n        <h2 style=\"margin:8px 0\">Total number of airdrops：</h2>\r\n        <h3 style=\"margin:5px 15px 0;\">\r\n          {{ airdropCoinTatol || 0 }}\r\n        </h3>\r\n        <h2 style=\"margin:8px 0\">Airdropped quantity：</h2>\r\n        <h3 style=\"margin:5px 15px 0;\">\r\n          {{ hasairdropNumber || 0 }}\r\n        </h3>\r\n      </div>\r\n\r\n      <div style=\"margin: 20px 0 50px\">\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"margin-left: 30px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"receiveAirdrop\"\r\n          >Receive Airdrop</el-button\r\n        >\r\n      </div>\r\n\r\n      <!-- 只有是管理员的时候才显示 -->\r\n      <div style=\"margin-bottom: 70px\" v-if=\"isadmin && isairdropnoexpire\">\r\n        <el-form ref=\"form\" label-width=\"140px\">\r\n          <el-form-item label=\"Expire Date:\">\r\n            <el-input\r\n              v-model=\"expireDate\"\r\n              placeholder=\"Please input the Expire Date\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Number of airdrops:\">\r\n            <el-input\r\n              v-model=\"receiveNum\"\r\n              placeholder=\"Please input the Number of airdrops\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Airdrop Total:\">\r\n            <el-input\r\n              v-model=\"airdropTotal\"\r\n              placeholder=\"Please input the Airdrop Total\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button\r\n          v-if=\"isAuthedSuccess\"\r\n          type=\"primary\"\r\n          style=\"margin-left: 30px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"setExpiredTime\"\r\n          >Set Config</el-button\r\n        >\r\n        <el-button\r\n          v-else\r\n          type=\"primary\"\r\n          style=\"margin-left: 30px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"handlerToAuth\"\r\n          >Authorize</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport {\r\n  formartadd,\r\n  formatDateTime,\r\n  setLocalStorage,\r\n  getLocalStorage,\r\n} from \"@/utils/utils\";\r\nimport $web3js from \"../../../lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecToken = require(\"@/lib/contract/contractAbi/iectoken.json\");\r\nconst onlyairdrop = require(\"@/lib/contract/contractAbi/onlyairdrop.json\");\r\n\r\n// 捐赠 abi\r\n// 空投 abi\r\nexport default {\r\n  data() {\r\n    return {\r\n      disabled: true,\r\n      isadmin: false,\r\n      // 领取空投参数 id\r\n      receiveId: \"\",\r\n      iectokenAuthed: \"\", // 授权方法主体\r\n      isAuthedSuccess: false,\r\n\r\n      iecTokenContract: this.$contractAddress.iecToken,\r\n      iecConst: \"\",\r\n      expireDate: \"\", // 过期时间\r\n      airdropTotal: \"\", // 空投总量\r\n      receiveNum: \"\", // 领取数量\r\n      onlyairdropContractAdd: this.$contractAddress.onlyairdropContractAdd, // 空投合约地址\r\n      onlyairdropConst: \"\", // 空投方法主体\r\n\r\n      isairdropnoexpire: false, // 本期空投是否过期\r\n      // 空投详情\r\n      airdropdetailendtime: \"\", //截止时间\r\n      airdropCoinNumber: \"\", // 每笔空投lec数量\r\n      airdropCoinTatol: \"\", //本期空投lec总数量\r\n      hasairdropNumber: \"\", // 已经空投lec数量\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    if (getLocalStorage(\"walletaccount\")) {\r\n      // 是否是管理员\r\n      this.handlerIsAdmin();\r\n      this.getreceiveId();\r\n      // 是否授权\r\n      this.isAuthed();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    formatDateTime,\r\n    // 是否授权\r\n    isAuthed() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      vm.iectokenAuthed.methods\r\n        .allowance(vm.myaddress, vm.onlyairdropContractAdd)\r\n        .call({ from: vm.myaddress })\r\n        .then((res) => {\r\n          // console.log(\"shouquan\", res);\r\n          if (res > 0) {\r\n            this.isAuthedSuccess = true;\r\n            return;\r\n          }\r\n        });\r\n    },\r\n    // 是否是管理员\r\n    async handlerIsAdmin() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      if (await this.iecConst.methods.admin(this.myaddress).call()) {\r\n        this.isadmin = true;\r\n      }\r\n    },\r\n    // 查领取空头参数 id  receiveId\r\n    async getreceiveId() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      const getedid = await this.iecConst.methods.id().call();\r\n      // console.log(\"getedid\", getedid);\r\n      this.receiveId = getedid;\r\n      this.getairdropdetail(this.receiveId);\r\n    },\r\n    // 获取每期空投详情\r\n    async getairdropdetail(id) {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      const airdropdetail = await this.iecConst.methods.airdropMap(id).call();\r\n      // console.log(\"airdropdetail\", airdropdetail);\r\n      this.airdropdetailendtime = airdropdetail.endTime;\r\n\r\n      // 到期了\r\n      let currentTime = new Date().getTime();\r\n      if (currentTime > this.airdropdetailendtime * 1000) {\r\n        this.isairdropnoexpire = true;\r\n      }\r\n\r\n      this.airdropCoinNumber = await numberUtils.movePointLeft(\r\n        airdropdetail.airdropCoinNumber,\r\n        18\r\n      );\r\n      this.airdropCoinTatol = await numberUtils.movePointLeft(\r\n        airdropdetail.airdropCoinTatol,\r\n        18\r\n      );\r\n      this.hasairdropNumber = await numberUtils.movePointLeft(\r\n        airdropdetail.hasairdropNumber,\r\n        18\r\n      );\r\n    },\r\n    // 领取空投\r\n    async receiveAirdrop() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.onlyairdropConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.onlyairdropConst.methods\r\n        .receiveAirdrop(vm.receiveId)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Receive Donation is successful\",\r\n            });\r\n            vm.donationAdd = \"\";\r\n            vm.getreceiveId();\r\n            vm.$store.dispatch(\"ActionRouterKey\");\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Receive Donation failed, try later\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 管理员设置过期时间\r\n    setExpiredTime() {\r\n      this.isAuthed();\r\n      if (this.isAuthedSuccess) {\r\n        if (this.expireDate == \"\") {\r\n          this.$toast({\r\n            message: \"expire Date cannot be empty\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.receiveNum == \"\") {\r\n          this.$toast({\r\n            message: \"Quantity received cannot be empty\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.airdropTotal == \"\") {\r\n          this.$toast({\r\n            message: \"Airdrop total cannot be empty\",\r\n          });\r\n          return;\r\n        }\r\n        this.setconfigInfo();\r\n      } else {\r\n        this.handlerToAuth();\r\n      }\r\n    },\r\n\r\n    // 调用合约穿参数\r\n    async setconfigInfo() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.onlyairdropConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      let endtime = vm.expireDate * 24 * 60 * 60;\r\n      // console.log(\"endtime\", endtime);\r\n      let endTime_ = endtime;\r\n      let airdropCoinNumber_ = await numberUtils.movePointRight(\r\n        vm.receiveNum,\r\n        18\r\n      );\r\n      let airdropCoinTatol_ = await numberUtils.movePointRight(\r\n        vm.airdropTotal,\r\n        18\r\n      );\r\n      // console.log(vm.receiveNum, vm.airdropTotal);\r\n      vm.onlyairdropConst.methods\r\n        .newAirDrop(endTime_, airdropCoinNumber_, airdropCoinTatol_)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Set successfully\",\r\n            });\r\n          }\r\n          vm.getreceiveId();\r\n          vm.$store.dispatch(\"ActionRouterKey\");\r\n          vm.expireDate = \"\"; // 过期时间\r\n          vm.airdropTotal = \"\"; // 空投总量\r\n          vm.receiveNum = \"\"; // 领取数量\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Set failed, try later\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 授权\r\n    async handlerToAuth() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      //转化价格\r\n      this.amount = await numberUtils.movePointRight(99999999, 18);\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iectokenAuthed.methods\r\n        .approve(vm.onlyairdropContractAdd, vm.amount)\r\n        .send({ from: vm.myaddress })\r\n        .on(\"transactionHash\", function(hash) {\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n          // console.log(\"交易广播哈希\", hash);\r\n          vm.hash = hash;\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);/\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message:\r\n                \"Authorization is successful, fill in the configuration information and submit\",\r\n            });\r\n            vm.isAuthedSuccess = true;\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed authorization\",\r\n            type: \"success\",\r\n          });\r\n        });\r\n    },\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.airdrop-wrap {\r\n  padding: 10px 0 100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  // align-items: center;\r\n  // width: 90%;\r\n  // margin: 0 auto;\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    // width: 60%;\r\n    height: 150px;\r\n    border-radius: 12px;\r\n    padding: 20px 15px;\r\n    font-size: 16px;\r\n    > div:nth-child(1) {\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n",
    "import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=script&lang=js&\"",
    "import { render, staticRenderFns } from \"./receive.vue?vue&type=template&id=13f1e681&scoped=true&\"\nimport script from \"./receive.vue?vue&type=script&lang=js&\"\nexport * from \"./receive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./receive.vue?vue&type=style&index=0&id=13f1e681&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13f1e681\",\n  null\n  \n)\n\nexport default component.exports",
    "export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=style&index=0&id=27613a9a&lang=less&scoped=true&\"",
    "export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=style&index=0&id=13f1e681&lang=less&scoped=true&\"",
    "export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=style&index=0&id=2ac8a332&lang=less&scoped=true&\"",
    "var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"airdrop-wrap\"},[_c('div',{staticClass:\"introduce-wrap\"},[_c('div',{staticStyle:{\"margin-bottom\":\"70px\"}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"地址:\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入地址，格式如：TS-62L8-3W9P-BFL7-EFRHV\",\"maxlength\":\"“45\"},model:{value:(_vm.donationAdd),callback:function ($$v) {_vm.donationAdd=$$v},expression:\"donationAdd\"}})],1)],1),_c('el-button',{staticStyle:{\"margin\":\"20px 0 0 100px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerSubmit}},[_vm._v(\"提交\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }",
    "<template>\r\n  <div class=\"airdrop-wrap\">\r\n    <div class=\"introduce-wrap\">\r\n      <div style=\"margin-bottom: 70px\">\r\n        <el-form ref=\"form\" label-width=\"140px\">\r\n          <el-form-item label=\"地址:\">\r\n            <el-input\r\n              v-model=\"donationAdd\"\r\n              placeholder=\"请输入地址，格式如：TS-62L8-3W9P-BFL7-EFRHV\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"margin:20px 0 0 100px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"handlerSubmit\"\r\n          >提交</el-button\r\n        >\r\n      </div>\r\n\r\n      <!-- <el-tabs type=\"border-card\">\r\n        <el-tab-pane label=\"Community Airdrop\">\r\n          <div>\r\n            <el-form ref=\"form\" :model=\"formAirdrop\" label-width=\"140px\">\r\n              <el-form-item label=\"Airdrop Recipient Address:\">\r\n                <el-input\r\n                  v-model=\"formAirdrop.airdropAdd\"\r\n                  type=\"textarea\"\r\n                  :rows=\"3\"\r\n                  placeholder=\"Please input the recipient address (in ERC20)\"\r\n                  maxlength=\"“45\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"Airdrop Amount:\">\r\n                <el-input\r\n                 type=\"textarea\"\r\n                  :rows=\"3\"\r\n                  v-model=\"formAirdrop.airdropNum\"\r\n                  placeholder=\"Please input the amount \"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"margin-left: 80px\"\r\n              :disabled=\"disabled\"\r\n              @click=\"handlerairdrop\"\r\n              >Airdrop</el-button\r\n            >\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"Token Holder\">\r\n          <div style=\"margin-top: 40px\">\r\n            <el-form label-width=\"140px\">\r\n              <el-form-item label=\"Airdrop Recipient Address:\">\r\n                <el-input\r\n                  v-model=\"tokenAirDropAddr\"\r\n                  type=\"textarea\"\r\n                  :rows=\"3\"\r\n                  placeholder=\"Please input the recipient address (in ERC20)\"\r\n                  maxlength=\"“45\"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"margin-left: 80px\"\r\n              :disabled=\"disabled\"\r\n              @click=\"handlerairdropToken\"\r\n              >Airdrop</el-button\r\n            >\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { formartadd, setLocalStorage, getLocalStorage } from \"@/utils/utils\";\r\nimport $web3js from \"../../../src/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nconst donation = require(\"@/lib/contract/contractAbi/donation.json\");\r\nconst airdrop = require(\"@/lib/contract/contractAbi/airdrop.json\");\r\n\r\n// 捐赠 abi\r\n// 空投 abi\r\nexport default {\r\n  data() {\r\n    return {\r\n      donationAdd: \"\", // 捐赠地址\r\n      disabled: false,\r\n      formAirdrop: {\r\n        airdropAdd: \"\",\r\n        airdropNum: \"\",\r\n      },\r\n\r\n      // 社区空投地址数组\r\n      airdropAddArr: [],\r\n\r\n      // 没有数量空投的地址, 持币空投地址\r\n      tokenAirDropAddr: \"\",\r\n      // 持币空投地址\r\n      tokenAirDropAddrArr: [],\r\n\r\n      vote: this.$contractAddress.vote,\r\n      iecConst: \"\",\r\n\r\n      donationContractAdd: this.$contractAddress.conadd, // 捐赠合约地址\r\n      donationConst: \"\", // 捐赠方法主体\r\n      isadid: false,\r\n\r\n      airdropConst: \"\", // 空投方法主体\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  created() {\r\n    this.isDid()\r\n  },\r\n\r\n  // watch: {\r\n  //   walletaccount: {\r\n  //     handler(val) {\r\n  //       if (val != \"\") {\r\n  //         this.disabled = false;\r\n  //       }\r\n  //     },\r\n  //   },\r\n  //   deep: true,\r\n  //   immediate: true,\r\n  // },\r\n\r\n  methods: {\r\n    // // 是否是管理员\r\n    // async handlerIsAdmin() {\r\n    //   // 钱包调用固定方法\r\n    //   this.connectMetaMask();\r\n    //   if (getLocalStorage(\"walletaccount\")) {\r\n    //     this.web3 = this.$web3js.getWeb3();\r\n    //   } else {\r\n    //     // 未连接钱包时， 默认连接到 bnb 测试\r\n    //     this.web3 = new Web3(\r\n    //       \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n    //     );\r\n    //   }\r\n    //   this.myaddress = getLocalStorage(\"walletaccount\")\r\n    //     ? getLocalStorage(\"walletaccount\")\r\n    //     : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n    //   this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n    //     from: this.myaddress,\r\n    //   });\r\n    //   if (await this.iecConst.methods\r\n    //     .directors(this.myaddress)\r\n    //     .call()){\r\n    //       //  this.disabled = false;\r\n    //     }\r\n    // },\r\n    // 捐赠\r\n    async handlerSubmit() {\r\n      if (getLocalStorage(\"walletaccount\") === null) {\r\n        this.$message({\r\n          message: \"请链接钱包\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (this.donationAdd == \"\") {\r\n        this.$message({\r\n          message: \"请输入地址\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      var reg = /^TS-[A-Za-z0-9]/;\r\n      if (!reg.test(this.donationAdd)) {\r\n        this.$message({\r\n          message: \"请检查输入地址格式\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      if(this.isadid) {\r\n        this.$message({\r\n          message: \"当前帐户已提交\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.donationConst = new this.web3.eth.Contract(\r\n        donation.abi,\r\n        this.donationContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      // console.log(vm.donationConst);\r\n      vm.donationConst.methods\r\n        .setPeth(vm.donationAdd)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          // console.log('hash', hash);\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"交易正在打包，请勿退出\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"提交成功\",\r\n              type: \"success\",\r\n            });\r\n            vm.donationAdd = \"\";\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"提交失败,稍后再试\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n       // 获取 meth\r\n    async isDid() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.donationConst = new this.web3.eth.Contract(\r\n        donation.abi,\r\n        this.donationContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n\r\n      let isdid = await this.donationConst.methods\r\n        .IsSave(this.myaddress)\r\n        .call({\r\n          from: this.myaddress,\r\n        });\r\n        // console.log('isdid', isdid);\r\n        this.isadid = isdid;\r\n    },\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.airdrop-wrap {\r\n  padding: 10px 0 100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    height: 150px;\r\n    border-radius: 12px;\r\n    padding: 20px 15px;\r\n    font-size: 16px;\r\n    > div:nth-child(1) {\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n",
    "import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./airdrop.vue?vue&type=script&lang=js&\"",
    "import { render, staticRenderFns } from \"./airdrop.vue?vue&type=template&id=2ac8a332&scoped=true&\"\nimport script from \"./airdrop.vue?vue&type=script&lang=js&\"\nexport * from \"./airdrop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./airdrop.vue?vue&type=style&index=0&id=2ac8a332&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ac8a332\",\n  null\n  \n)\n\nexport default component.exports"
  ],
  "sourceRoot": ""
}