{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.big.js","webpack:///./src/views/vote/vote.vue?3923","webpack:///src/views/vote/vote.vue","webpack:///./src/views/vote/vote.vue?c3ba","webpack:///./src/views/vote/vote.vue","webpack:///./src/views/MobilePages/vote/vote.vue?8c5e","webpack:///./node_modules/vant/es/radio/style/index.js","webpack:///./node_modules/vant/es/button/style/index.js","webpack:///./node_modules/vant/es/mixins/field.js","webpack:///./node_modules/vant/es/mixins/checkbox.js","webpack:///./node_modules/vant/es/radio/index.js","webpack:///./node_modules/vant/es/radio-group/style/index.js","webpack:///./src/views/vote/receive.vue?c12c","webpack:///./src/views/MobilePages/vote/vote.vue?3d50","webpack:///src/views/MobilePages/vote/vote.vue","webpack:///./src/views/MobilePages/vote/vote.vue?2662","webpack:///./src/views/MobilePages/vote/vote.vue","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/vote/vote.vue?bc74","webpack:///./node_modules/vant/es/radio-group/index.js","webpack:///./src/views/vote/receive.vue?1817","webpack:///src/views/vote/receive.vue","webpack:///./src/views/vote/receive.vue?e49b","webpack:///./src/views/vote/receive.vue"],"names":["$","createHTML","forcedStringHTMLMethod","target","proto","forced","big","this","render","_vm","_h","$createElement","_c","_self","staticClass","on","goBack","attrs","staticStyle","_v","_s","name","split","add","formatDateTime","stime","etime","IsVotingEnd","win","optionsList","length","Number","optioncount","directives","rawName","value","expression","_l","op","index","key","radioVal","model","callback","$$v","radio","optionsText","opVotes","disabled","handlerPostVote","redeemtoken","isAdmin","getLocalStorage","mustCalculate","_e","commonCalculate","staticRenderFns","data","vote","$contractAddress","iecTokenContract","iecToken","iecConst","iectokenAuthed","pid","status","voteOptions","loading","isAuthedSuccess","computed","watch","walletaccount","handler","val","deep","immediate","activated","$route","query","numberUtils","getProposalOptions","handlerIsAdmin","isAuthed","newMotionInfo","methods","$router","go","currentTime","$message","message","type","$prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","handlerToAuth","connectMetaMask","web3","$web3js","getWeb3","myaddress","eth","Contract","iecvote","abi","from","vm","Web3","component","FieldMixin","inject","vanField","default","field","resetValidation","validateWithTrigger","created","children","_ref","parent","bem","role","mixins","props","Boolean","iconSize","String","checkedColor","labelPosition","labelDisabled","shape","bindGroup","disableBindRelation","isDisabled","direction","iconStyle","checked","borderColor","backgroundColor","tabindex","onClick","event","_this","icon","$refs","iconClicked","contains","$emit","toggle","setTimeout","genIcon","h","fontSize","slots","genLabel","slot","arguments","Children","unshift","push","_createNamespace","create","createComponent","currentValue","get","set","components","RadioGroup","Radio","Button","$toast","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callbackfn","undefined","_value","isairdropnoexpire","airdropdetailendtime","airdropCoinNumber","airdropCoinTatol","hasairdropNumber","receiveAirdrop","isadmin","ref","expireDate","receiveNum","airdropTotal","setExpiredTime","receiveId","onlyairdropContractAdd","onlyairdropConst","getreceiveId","setconfigInfo"],"mappings":"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","file":"js/vote.114e94f2.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.big` method\n// https://tc39.es/ecma262/#sec-string.prototype.big\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('big') }, {\n  big: function big() {\n    return createHTML(this, 'big', '', '');\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-wrap\"},[_c('div',{staticClass:\"postMotion\",on:{\"click\":_vm.goBack}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"fa fa-arrow-left\",staticStyle:{\"margin-right\":\"4px\"}}),_vm._v(\" All proposal \")])],1),_c('div',{staticClass:\"introduce-wrap\"},[_c('div',{staticClass:\"vote-content\"},[_c('h2',[_vm._v(\"Proposal Name：\"+_vm._s(_vm.name.split(\"|\")[0] || \"--\"))]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Proposal Publisher: \"+_vm._s(_vm.add))]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_c('h2',[_vm._v(\"Donation Recipient Address: \"+_vm._s(_vm.name.split(\"|\")[1] || \"--\"))]),_c('h2',{staticStyle:{\"margin\":\"10px 0\"}},[_vm._v(\" Proposal Details: \"+_vm._s(_vm.name.split(\"|\")[2] || \"--\")+\" \")]),_c('h2',[_vm._v(\"Proposal publish time: \"+_vm._s(_vm.formatDateTime(_vm.stime * 1000)))])]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Proposal end time: \"+_vm._s(_vm.formatDateTime(_vm.etime * 1000))+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Is it an important proposal: \"+_vm._s(_vm.big == 'true' ? \"Yes\" : \"No\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Whether the proposal is over : \"+_vm._s(_vm.IsVotingEnd ? \"Yes\" : \"No\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Proposal approved option: \"+_vm._s(_vm.IsVotingEnd && _vm.win == \"6\" ? 1 : _vm.win == \"6\" ? \"No\" : _vm.win == \"4\" ? _vm.optionsList.length : Number(_vm.win) + 1)+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Number of votes of current proposal: \"+_vm._s(_vm.optioncount)+\" \")]),_c('ul',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},_vm._l((_vm.optionsList),function(op,index){return _c('li',{key:index},[_c('span',[_c('el-radio',{attrs:{\"label\":op.radioVal},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('span',[_vm._v(\" \"+_vm._s(index + 1 + \". \" + op.optionsText))]),_c('span',{staticStyle:{\"margin-left\":\"15px\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(\"( Number of votes of this option: \" + op.opVotes + \" )\"))])])],1)])}),0)]),_c('div',{staticClass:\"postVote\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerPostVote}},[_vm._v(\"Voting\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.redeemtoken}},[_vm._v(\"Redeem token\")]),(_vm.isAdmin || _vm.add == _vm.getLocalStorage('walletaccount'))?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.mustCalculate}},[_vm._v(\"Urgent calculation\")]):_vm._e(),(_vm.isAdmin || _vm.add == _vm.getLocalStorage('walletaccount'))?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.commonCalculate}},[_vm._v(\"Calculation\")]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vote-wrap\">\r\n    <div class=\"postMotion\" @click=\"goBack\">\r\n      <el-button type=\"primary\">\r\n        <i class=\"fa fa-arrow-left\" style=\"margin-right: 4px\"></i>\r\n        All proposal\r\n      </el-button>\r\n    </div>\r\n    <!-- 提案详情 -->\r\n    <div class=\"introduce-wrap\">\r\n      <div class=\"vote-content\">\r\n        <h2>Proposal Name：{{ name.split(\"|\")[0] || \"--\" }}</h2>\r\n        <h2 style=\"margin-top: 10px\">Proposal Publisher: {{ add }}</h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          <h2>Donation Recipient Address: {{ name.split(\"|\")[1] || \"--\" }}</h2>\r\n          <h2 style=\"margin: 10px 0\">\r\n            Proposal Details: {{ name.split(\"|\")[2] || \"--\" }}\r\n          </h2>\r\n          <h2>Proposal publish time: {{ formatDateTime(stime * 1000) }}</h2>\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Proposal end time: {{ formatDateTime(etime * 1000) }}\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Is it an important proposal: {{ big == 'true' ? \"Yes\" : \"No\" }}\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Whether the proposal is over : {{ IsVotingEnd ? \"Yes\" : \"No\" }}\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Proposal approved option:\r\n          {{\r\n            IsVotingEnd && win == \"6\"\r\n              ? 1\r\n              : win == \"6\"\r\n              ? \"No\"\r\n              : win == \"4\"\r\n              ? optionsList.length\r\n              : Number(win) + 1\r\n          }}\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Number of votes of current proposal: {{ optioncount }}\r\n        </h2>\r\n        <ul v-loading=\"loading\">\r\n          <li v-for=\"(op, index) in optionsList\" :key=\"index\">\r\n            <span>\r\n              <el-radio v-model=\"radio\" :label=\"op.radioVal\">\r\n                <span> {{ index + 1 + \".  \" + op.optionsText }}</span>\r\n                <span style=\"margin-left: 15px; font-weight: 600\">{{\r\n                  \"( Number of votes of this option: \" + op.opVotes + \" )\"\r\n                }}</span>\r\n              </el-radio>\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"postVote\">\r\n        <el-button type=\"primary\" @click=\"handlerPostVote\" :disabled=\"disabled\"\r\n          >Voting</el-button\r\n        >\r\n        <el-button type=\"primary\" @click=\"redeemtoken\" :disabled=\"disabled\"\r\n          >Redeem token</el-button\r\n        >\r\n\r\n        <!-- 管理员才有  读合约判断是不是管理员 -->\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"isAdmin || add == getLocalStorage('walletaccount')\"\r\n          @click=\"mustCalculate\"\r\n          :disabled=\"disabled\"\r\n          >Urgent calculation</el-button\r\n        >\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"isAdmin || add == getLocalStorage('walletaccount')\"\r\n          @click=\"commonCalculate\"\r\n          :disabled=\"disabled\"\r\n          >Calculation</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport {\r\n  formartadd,\r\n  formatDateTime,\r\n  setLocalStorage,\r\n  getLocalStorage,\r\n} from \"@/utils/utils\";\r\nimport $web3js from \"../../../src/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nconst iecToken = require(\"@/lib/contract/contractAbi/iectoken.json\");\r\nconst Web3 = require(\"web3\");\r\nexport default {\r\n  name: \"vote\",\r\n  data() {\r\n    return {\r\n      disabled: true,\r\n      radio: \"\",\r\n      // 选项数组\r\n      optionsList: [],\r\n      vote: this.$contractAddress.vote,\r\n      iecTokenContract: this.$contractAddress.iecToken,\r\n      iecConst: \"\", // 选项等方法主体\r\n      iectokenAuthed: \"\", // 授权方法主体\r\n\r\n      pid: \"\",\r\n      optioncount: \"\",\r\n      name: \"\",\r\n      status: \"\",\r\n      add: \"\",\r\n      stime: \"\",\r\n      etime: \"\",\r\n      big: \"\",\r\n      win: \"\",\r\n      IsVotingEnd: \"\", // 投票结束\r\n      // 每个选项的票数（前几个, 不包括最后一个固定选项）\r\n      voteOptions: [],\r\n      isAdmin: false,\r\n      loading: true,\r\n      isAuthedSuccess: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  watch: {\r\n    walletaccount: {\r\n      handler(val) {\r\n        if (val != \"\") {\r\n          this.disabled = false;\r\n        }\r\n      },\r\n    },\r\n    deep: true,\r\n    immediate: true,\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    this.pid = this.$route.query.pid;\r\n    this.optioncount = numberUtils.movePointLeft(\r\n      this.$route.query.optioncount,\r\n      18\r\n    );\r\n    this.name = this.$route.query.name;\r\n    this.status = this.$route.query.status;\r\n    this.add = this.$route.query.add;\r\n    this.stime = this.$route.query.stime;\r\n    this.etime = this.$route.query.etime;\r\n    this.big = this.$route.query.big;\r\n    this.win = this.$route.query.win;\r\n    this.optionsList = [];\r\n    this.radio = [];\r\n    this.voteOptions = [];\r\n    this.loading = true;\r\n    // 获取Proposal Option的方法\r\n    this.getProposalOptions();\r\n\r\n    // 获取是否是管理员\r\n    this.handlerIsAdmin();\r\n\r\n    // 是否授权\r\n    this.isAuthed();\r\n\r\n    // 投票是否结束\r\n    this.newMotionInfo();\r\n  },\r\n\r\n  methods: {\r\n    formatDateTime,\r\n    getLocalStorage,\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 获取选项\r\n    async getProposalOptions() {\r\n      // 重置上次的选项\r\n      this.optionsList = [];\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let optionsArr = [];\r\n      for (let i = 0; i < 4; i++) {\r\n        optionsArr.push(\r\n          await this.iecConst.methods.ProposalOptions(this.pid, i).call()\r\n        );\r\n      }\r\n      // this.optionsList = optionsArr.map((item, index) => {\r\n      //   if($web3js.byte32ToString(item)) {\r\n      //      return {\r\n      //       radioVal: index,\r\n      //       optionsText: $web3js.byte32ToString(item)\r\n      //     }\r\n      //   }\r\n      // })\r\n\r\n      // 单个选项\r\n      // console.log('stering', $web3js.byte32ToString(await this.iecConst.methods.ProposalOptions(this.pid, 1).call()))\r\n\r\n      optionsArr.forEach((item, index) => {\r\n        if (item && item != \"Reject all options\" && item != \"NO\") {\r\n          this.optionsList.push({\r\n            radioVal: index,\r\n            optionsText: item,\r\n          });\r\n        }\r\n      });\r\n      this.optionsList.push({\r\n        radioVal: 4,\r\n        optionsText: \"Reject all options\",\r\n      });\r\n      // 获取选项票数\r\n      this.getvoteOption();\r\n    },\r\n\r\n    // 获取选项的票数\r\n    async getvoteOption() {\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let optionvote = [];\r\n      for (let k = 0; k < this.optionsList.length - 1; k++) {\r\n        optionvote.push(\r\n          Number(\r\n            await this.iecConst.methods\r\n              .ProposalsOptionsCounts(this.pid, k)\r\n              .call()\r\n          )\r\n        );\r\n      }\r\n      // console.log('optionvote', optionvote)\r\n\r\n      let defaultoption = await this.iecConst.methods\r\n        .ProposalsOptionsCounts(this.pid, 4)\r\n        .call();\r\n\r\n      optionvote.push(Number(defaultoption));\r\n      //  console.log('defaultoption', optionvote)\r\n      this.voteOptions = [...optionvote];\r\n      this.voteOptions.forEach((items, index) => {\r\n        this.optionsList.map((val, key) => {\r\n          if (index === key) {\r\n            val.opVotes = numberUtils.movePointLeft(items, 18);\r\n          }\r\n        });\r\n      });\r\n      this.loading = false;\r\n      this.$forceUpdate();\r\n      // console.log(\"9890\", this.optionsList);\r\n    },\r\n\r\n    // 是否是管理员\r\n    async handlerIsAdmin() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      this.isAdmin = await this.iecConst.methods\r\n        .directors(this.myaddress)\r\n        .call();\r\n      // this.isAdmin = true;\r\n      // console.log('isadmin', this.isAdmin)\r\n    },\r\n\r\n    // 获取最新提案信息\r\n    async newMotionInfo() {\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let newMotionInfos = await this.iecConst.methods\r\n        .Proposals(this.pid)\r\n        .call();\r\n      this.optioncount = numberUtils.movePointLeft(\r\n        newMotionInfos.OptionsTotalCounts,\r\n        18\r\n      );\r\n      this.IsVotingEnd = newMotionInfos.IsVotingEnd;\r\n      // 获胜提案\r\n      this.win = newMotionInfos.WinOption;\r\n      // console.log('newMotionInfos', newMotionInfos);\r\n    },\r\n\r\n    // 投票\r\n    handlerPostVote() {\r\n      // 到期了\r\n      let currentTime = new Date().getTime();\r\n      if (currentTime > this.etime * 1000) {\r\n        this.$message({\r\n          message: \"The Proposal has expired\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      // 提案结算了\r\n      if (this.IsVotingEnd) {\r\n        this.$message({\r\n          message:\r\n            \"The vote of this proposal has ended, go to check other proposals\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (typeof this.radio != \"number\") {\r\n        this.$message({\r\n          message: \"Please select the option to vote\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      }\r\n      this.isAuthed();\r\n\r\n      // 1.授权， 2.选则选项， 3.输入票数\r\n      if (this.isAuthedSuccess) {\r\n        this.$prompt(\"Please input the number of vote\", \"Tips\", {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          inputPattern: /^[0-9]*[1-9][0-9]*$/,\r\n          inputErrorMessage: 'The data entered is illegal'\r\n        }).then(({ value }) => {\r\n          this.voteValue = numberUtils.movePointRight(value, 18);\r\n          this.voteToContract();\r\n        });\r\n      } else {\r\n        // console.log(\"4444\", this.radio);\r\n        this.handlerToAuth();\r\n      }\r\n    },\r\n\r\n    // 投票调用合约\r\n    async voteToContract() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      // console.log(\"0o0o\");\r\n      vm.iecConst.methods\r\n        .vote(vm.pid, vm.radio, vm.voteValue)\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          // console.log(\"shouquanwa\", hash);\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Successful Vote\",\r\n              type: \"success\",\r\n            });\r\n            // Successful Vote之后要做些什么， 重新花去投票列表\r\n            vm.getProposalOptions();\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed Vote！\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Redeem token\r\n    async redeemtoken() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .getVoted(vm.pid)\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Successful token withdrawal\",\r\n              type: \"success\",\r\n            });\r\n            // Redeem token成功之后要做些什么\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed token withdrawal！\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Urgent calculation\r\n    mustCalculate() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      if (this.isAdmin) {\r\n        this.myaddress = getLocalStorage(\"walletaccount\");\r\n      } else {\r\n        this.myaddress = this.add;\r\n      }\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .proposaleCalculation(vm.pid, true)\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Successful urgent calculation\",\r\n              type: \"success\",\r\n            });\r\n            // Urgent calculation成功之后要做些什么\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed urgent calculation！\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Calculation\r\n    commonCalculate() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      if (this.isAdmin) {\r\n        this.myaddress = getLocalStorage(\"walletaccount\");\r\n      } else {\r\n        this.myaddress = this.add;\r\n      }\r\n\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .proposaleCalculation(vm.pid, false)\r\n        .send()\r\n        .on(\"transactionHash\", function (hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Successful calculation\",\r\n              type: \"success\",\r\n            });\r\n            // Calculation成功之后要做些什么\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed calculation！\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 是否授权\r\n    isAuthed() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      vm.iectokenAuthed.methods\r\n        .allowance(vm.myaddress, vm.vote)\r\n        .call({ from: vm.myaddress })\r\n        .then((res) => {\r\n          // console.log(\"shouquan\", res);\r\n          if (res > 0) {\r\n            this.isAuthedSuccess = true;\r\n            return;\r\n          }\r\n        });\r\n    },\r\n    // 授权\r\n    async handlerToAuth() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      //转化价格\r\n      this.amount = await numberUtils.movePointRight(99999999, 18);\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iectokenAuthed.methods\r\n        .approve(vm.vote, vm.amount)\r\n        .send({ from: vm.myaddress })\r\n        .on(\"transactionHash\", function (hash) {\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n          // console.log(\"交易广播哈希\", hash);\r\n          vm.hash = hash;\r\n        })\r\n        .on(\"receipt\", function (receipt) {\r\n          // console.log(\"交易回执\", receipt);/\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Please vote after the authorization is successful\",\r\n              type: \"success\",\r\n            });\r\n            // 授权成功后直接调投票方法\r\n            vm.$confirm(\"Vote for the selected option\", \"Tips\", {\r\n              confirmButtonText: \"Confirm\",\r\n              cancelButtonText: \"Cancel\",\r\n              type: \"warning\",\r\n            }).then(() => {\r\n              // console.log(\"999\");\r\n              vm.$prompt(\"Please input the number of vote\", \"Tips\", {\r\n                confirmButtonText: \"Confirm\",\r\n                cancelButtonText: \"Cancel\",\r\n                inputPattern: /^[0-9]*[1-9][0-9]*$/,\r\n                inputErrorMessage: 'The data entered is illegal'\r\n              }).then(({ value }) => {\r\n                vm.voteValue = numberUtils.movePointRight(value, 18);\r\n                vm.voteToContract();\r\n              });\r\n            });\r\n          }\r\n        })\r\n        .on(\"error\", function (error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed authorization\",\r\n            type: \"success\",\r\n          });\r\n        });\r\n    },\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.vote-wrap {\r\n  padding: 20px 0 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  .postMotion {\r\n    margin: 0px 0 30px auto;\r\n    padding-right: 60px;\r\n  }\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    background: radial-gradient(\r\n      76.02% 75.41% at 1.84% 0%,\r\n      rgb(176, 220, 255) 0%,\r\n      rgb(176, 201, 235) 100%\r\n    );\r\n    width: 60%;\r\n    min-height: 200px;\r\n    border-radius: 12px;\r\n    padding: 25px 25px 0 25px;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    // color: #fff;\r\n    .vote-content {\r\n      width: 100%;\r\n      h2 {\r\n        width: 100%;\r\n        word-break: break-all;\r\n      }\r\n      ul {\r\n        width: 100%;\r\n        min-height: 100px;\r\n        max-height: 200px;\r\n        word-break: break-all;\r\n        padding: 15px;\r\n        overflow-y: scroll;\r\n        li {\r\n          width: 100%;\r\n          word-break: break-all;\r\n          margin-bottom: 8px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .postVote {\r\n      padding: 10px 0 30px 0;\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .el-radio {\r\n  white-space: normal;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vote.vue?vue&type=template&id=b5fe0e06&scoped=true&\"\nimport script from \"./vote.vue?vue&type=script&lang=js&\"\nexport * from \"./vote.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vote.vue?vue&type=style&index=0&id=b5fe0e06&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5fe0e06\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=style&index=0&id=1d0b29a2&lang=less&scoped=true&\"","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../loading/index.css';\nimport '../index.css';","export var FieldMixin = {\n  inject: {\n    vanField: {\n      default: null\n    }\n  },\n  watch: {\n    value: function value() {\n      var field = this.vanField;\n\n      if (field) {\n        field.resetValidation();\n        field.validateWithTrigger('onChange');\n      }\n    }\n  },\n  created: function created() {\n    var field = this.vanField;\n\n    if (field && !field.children) {\n      field.children = this;\n    }\n  }\n};","/**\n * Common part of Checkbox & Radio\n */\nimport Icon from '../icon';\nimport { FieldMixin } from './field';\nimport { ChildrenMixin } from './relation';\nimport { addUnit } from '../utils';\nexport var CheckboxMixin = function CheckboxMixin(_ref) {\n  var parent = _ref.parent,\n      bem = _ref.bem,\n      role = _ref.role;\n  return {\n    mixins: [ChildrenMixin(parent), FieldMixin],\n    props: {\n      name: null,\n      value: null,\n      disabled: Boolean,\n      iconSize: [Number, String],\n      checkedColor: String,\n      labelPosition: String,\n      labelDisabled: Boolean,\n      shape: {\n        type: String,\n        default: 'round'\n      },\n      bindGroup: {\n        type: Boolean,\n        default: true\n      }\n    },\n    computed: {\n      disableBindRelation: function disableBindRelation() {\n        return !this.bindGroup;\n      },\n      isDisabled: function isDisabled() {\n        return this.parent && this.parent.disabled || this.disabled;\n      },\n      direction: function direction() {\n        return this.parent && this.parent.direction || null;\n      },\n      iconStyle: function iconStyle() {\n        var checkedColor = this.checkedColor || this.parent && this.parent.checkedColor;\n\n        if (checkedColor && this.checked && !this.isDisabled) {\n          return {\n            borderColor: checkedColor,\n            backgroundColor: checkedColor\n          };\n        }\n      },\n      tabindex: function tabindex() {\n        if (this.isDisabled || role === 'radio' && !this.checked) {\n          return -1;\n        }\n\n        return 0;\n      }\n    },\n    methods: {\n      onClick: function onClick(event) {\n        var _this = this;\n\n        var target = event.target;\n        var icon = this.$refs.icon;\n        var iconClicked = icon === target || icon.contains(target);\n\n        if (!this.isDisabled && (iconClicked || !this.labelDisabled)) {\n          this.toggle(); // wait for toggle method to complete\n          // so we can get the changed value in the click event listener\n\n          setTimeout(function () {\n            _this.$emit('click', event);\n          });\n        } else {\n          this.$emit('click', event);\n        }\n      },\n      genIcon: function genIcon() {\n        var h = this.$createElement;\n        var checked = this.checked;\n        var iconSize = this.iconSize || this.parent && this.parent.iconSize;\n        return h(\"div\", {\n          \"ref\": \"icon\",\n          \"class\": bem('icon', [this.shape, {\n            disabled: this.isDisabled,\n            checked: checked\n          }]),\n          \"style\": {\n            fontSize: addUnit(iconSize)\n          }\n        }, [this.slots('icon', {\n          checked: checked\n        }) || h(Icon, {\n          \"attrs\": {\n            \"name\": \"success\"\n          },\n          \"style\": this.iconStyle\n        })]);\n      },\n      genLabel: function genLabel() {\n        var h = this.$createElement;\n        var slot = this.slots();\n\n        if (slot) {\n          return h(\"span\", {\n            \"class\": bem('label', [this.labelPosition, {\n              disabled: this.isDisabled\n            }])\n          }, [slot]);\n        }\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var Children = [this.genIcon()];\n\n      if (this.labelPosition === 'left') {\n        Children.unshift(this.genLabel());\n      } else {\n        Children.push(this.genLabel());\n      }\n\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": role,\n          \"tabindex\": this.tabindex,\n          \"aria-checked\": String(this.checked)\n        },\n        \"class\": bem([{\n          disabled: this.isDisabled,\n          'label-disabled': this.labelDisabled\n        }, this.direction]),\n        \"on\": {\n          \"click\": this.onClick\n        }\n      }, [Children]);\n    }\n  };\n};","import { createNamespace } from '../utils';\nimport { CheckboxMixin } from '../mixins/checkbox';\n\nvar _createNamespace = createNamespace('radio'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [CheckboxMixin({\n    bem: bem,\n    role: 'radio',\n    parent: 'vanRadio'\n  })],\n  computed: {\n    currentValue: {\n      get: function get() {\n        return this.parent ? this.parent.value : this.value;\n      },\n      set: function set(val) {\n        (this.parent || this).$emit('input', val);\n      }\n    },\n    checked: function checked() {\n      return this.currentValue === this.name;\n    }\n  },\n  methods: {\n    toggle: function toggle() {\n      this.currentValue = this.name;\n    }\n  }\n});","import '../../style/base.css';\nimport '../index.css';","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=style&index=0&id=66fb77f0&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-wrap\"},[_c('div',{staticClass:\"introduce-wrap\"},[_c('div',{staticClass:\"vote-content\"},[_c('h2',[_vm._v(\"Proposal Name：\")]),_c('h3',[_vm._v(\" \"+_vm._s(_vm.name.split(\"|\")[0] || \"--\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Proposal publisher:\")]),_c('h3',{staticStyle:{\"word-break\":\"break-all\"}},[_vm._v(\" \"+_vm._s(_vm.add)+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Donation Recipient Address\")]),_c('h3',{staticStyle:{\"word-break\":\"break-all\"}},[_vm._v(\" \"+_vm._s(_vm.name.split(\"|\")[1] || \"--\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Proposal Details\")]),_c('h3',[_vm._v(\" \"+_vm._s(_vm.name.split(\"|\")[2] || \"--\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Proposal publish time: \")]),_c('h3',[_vm._v(\" \"+_vm._s(_vm.formatDateTime(_vm.stime * 1000))+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Proposal end time: \")]),_c('h3',[_vm._v(\" \"+_vm._s(_vm.formatDateTime(_vm.etime * 1000))+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Is it an important proposal: \"+_vm._s(_vm.big == \"true\" ? \"Yes\" : \"No\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Whether the proposal is over : \"+_vm._s(_vm.IsVotingEnd ? \"Yes\" : \"No\")+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Proposal approved option: \"+_vm._s(_vm.IsVotingEnd && _vm.win == \"6\" ? 1 : _vm.win == \"6\" ? \"No\" : _vm.win == \"4\" ? _vm.optionsList.length : Number(_vm.win) + 1)+\" \")]),_c('h2',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\" Number of votes of current proposal: \"+_vm._s(_vm.optioncount)+\" \")]),_c('ul',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},_vm._l((_vm.optionsList),function(op,index){return _c('li',{key:index},[_c('RadioGroup',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('Radio',{attrs:{\"name\":op.radioVal}},[_c('span',[_vm._v(\" \"+_vm._s(index + 1 + \". \" + op.optionsText))]),_c('span',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(_vm._s(\"( Number of votes of this option: \" + op.opVotes + \" )\"))])])],1)],1)}),0)]),_c('div',{staticClass:\"postVote\"},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerPostVote}},[_vm._v(\" Voting \")]),_c('Button',{attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.redeemtoken}},[_vm._v(\" Redeem token \")]),(_vm.isAdmin || _vm.add == _vm.getLocalStorage('walletaccount'))?_c('Button',{staticStyle:{\"margin\":\"0 5px\"},attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.mustCalculate}},[_vm._v(\"Urgent calculation\")]):_vm._e(),(_vm.isAdmin || _vm.add == _vm.getLocalStorage('walletaccount'))?_c('Button',{attrs:{\"type\":\"info\",\"disabled\":_vm.disabled},on:{\"click\":_vm.commonCalculate}},[_vm._v(\"Calculation\")]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vote-wrap\">\r\n    <div class=\"introduce-wrap\">\r\n      <div class=\"vote-content\">\r\n        <h2>Proposal Name：</h2>\r\n        <h3>\r\n          {{ name.split(\"|\")[0] || \"--\" }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">Proposal publisher:</h2>\r\n        <h3 style=\"word-break: break-all;\">\r\n          {{ add }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">Donation Recipient Address</h2>\r\n        <h3 style=\"word-break: break-all;\">\r\n          {{ name.split(\"|\")[1] || \"--\" }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">Proposal Details</h2>\r\n        <h3>\r\n          {{ name.split(\"|\")[2] || \"--\" }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">\r\n          Proposal publish time:\r\n        </h2>\r\n        <h3>\r\n          {{ formatDateTime(stime * 1000) }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">\r\n          Proposal end time:\r\n        </h2>\r\n        <h3>\r\n          {{ formatDateTime(etime * 1000) }}\r\n        </h3>\r\n\r\n        <h2 style=\"margin-top: 10px\">\r\n          Is it an important proposal: {{ big == \"true\" ? \"Yes\" : \"No\" }}\r\n        </h2>\r\n\r\n        <h2 style=\"margin-top: 10px\">\r\n         Whether the proposal is over : {{ IsVotingEnd ? \"Yes\" : \"No\" }}\r\n        </h2>\r\n\r\n        <h2 style=\"margin-top: 10px\">\r\n          Proposal approved option:\r\n          {{\r\n            IsVotingEnd && win == \"6\"\r\n              ? 1\r\n              : win == \"6\"\r\n              ? \"No\"\r\n              : win == \"4\"\r\n              ? optionsList.length\r\n              : Number(win) + 1\r\n          }}\r\n        </h2>\r\n        <h2 style=\"margin-top: 10px\">\r\n          Number of votes of current proposal: {{ optioncount }}\r\n        </h2>\r\n        <ul v-loading=\"loading\">\r\n          <li v-for=\"(op, index) in optionsList\" :key=\"index\">\r\n            <RadioGroup v-model=\"radio\">\r\n              <Radio :name=\"op.radioVal\">\r\n                <span> {{ index + 1 + \".  \" + op.optionsText }}</span>\r\n                <span style=\"margin-left:15px\">{{\r\n                  \"( Number of votes of this option: \" + op.opVotes + \" )\"\r\n                }}</span>\r\n              </Radio>\r\n            </RadioGroup>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <!-- 操作 -->\r\n      <div class=\"postVote\">\r\n        <Button\r\n          type=\"info\"\r\n          @click=\"handlerPostVote\"\r\n          :disabled=\"disabled\"\r\n          style=\"margin-right:5px;\"\r\n        >\r\n          Voting\r\n        </Button>\r\n        <Button type=\"info\" @click=\"redeemtoken\" :disabled=\"disabled\">\r\n          Redeem token\r\n        </Button>\r\n\r\n        <!-- 管理员才有  读合约判断是不是管理员 -->\r\n        <Button\r\n          type=\"info\"\r\n          style=\"margin:0 5px\"\r\n          v-if=\"isAdmin || add == getLocalStorage('walletaccount')\"\r\n          @click=\"mustCalculate\"\r\n          :disabled=\"disabled\"\r\n          >Urgent calculation</Button\r\n        >\r\n        <Button\r\n          type=\"info\"\r\n          v-if=\"isAdmin || add == getLocalStorage('walletaccount')\"\r\n          @click=\"commonCalculate\"\r\n          :disabled=\"disabled\"\r\n          >Calculation</Button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport {\r\n  formartadd,\r\n  formatDateTime,\r\n  setLocalStorage,\r\n  getLocalStorage,\r\n} from \"@/utils/utils\";\r\nimport { RadioGroup, Radio, Button } from \"vant\";\r\nimport $web3js from \"@/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst iecvote = require(\"@/lib/contract/contractAbi/iecvote.json\");\r\nconst iecToken = require(\"@/lib/contract/contractAbi/iectoken.json\");\r\nconst Web3 = require(\"web3\");\r\nexport default {\r\n  components: {\r\n    RadioGroup,\r\n    Radio,\r\n    Button,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      disabled: true,\r\n      radio: \"\",\r\n      // 选项数组\r\n      optionsList: [],\r\n      vote: this.$contractAddress.vote,\r\n      iecTokenContract: this.$contractAddress.iecToken,\r\n      iecConst: \"\", // 选项等方法主体\r\n      iectokenAuthed: \"\", // 授权方法主体\r\n\r\n      pid: \"\",\r\n      optioncount: \"\",\r\n      name: \"\",\r\n      status: \"\",\r\n      add: \"\",\r\n      stime: \"\",\r\n      etime: \"\",\r\n      big: \"\",\r\n      win: \"\",\r\n      IsVotingEnd: \"\", // 投票结束\r\n      // 每个选项的票数（前几个, 不包括最后一个固定选项）\r\n      voteOptions: [],\r\n      isAdmin: false,\r\n      loading: true,\r\n      isAuthedSuccess: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  watch: {\r\n    walletaccount: {\r\n      handler(val) {\r\n        if (val != \"\") {\r\n          this.disabled = false;\r\n        }\r\n      },\r\n    },\r\n    deep: true,\r\n    immediate: true,\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    this.pid = this.$route.query.pid;\r\n    this.optioncount = numberUtils.movePointLeft(\r\n      this.$route.query.optioncount,\r\n      18\r\n    );\r\n    this.name = this.$route.query.name;\r\n    this.status = this.$route.query.status;\r\n    this.add = this.$route.query.add;\r\n    this.stime = this.$route.query.stime;\r\n    this.etime = this.$route.query.etime;\r\n    this.big = this.$route.query.big;\r\n    this.win = this.$route.query.win;\r\n    this.optionsList = [];\r\n    this.radio = [];\r\n    this.voteOptions = [];\r\n    this.loading = true;\r\n    // 获取Proposal Option的方法\r\n    this.getProposalOptions();\r\n\r\n    // 获取是否是管理员\r\n    this.handlerIsAdmin();\r\n\r\n    // 是否授权\r\n    this.isAuthed();\r\n\r\n    // 投票是否结束\r\n    this.newMotionInfo();\r\n  },\r\n\r\n  methods: {\r\n    formatDateTime,\r\n    getLocalStorage,\r\n    // 获取选项\r\n    async getProposalOptions() {\r\n      // 重置上次的选项\r\n      this.optionsList = [];\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let optionsArr = [];\r\n      for (let i = 0; i < 4; i++) {\r\n        optionsArr.push(\r\n          await this.iecConst.methods.ProposalOptions(this.pid, i).call()\r\n        );\r\n      }\r\n      // this.optionsList = optionsArr.map((item, index) => {\r\n      //   if($web3js.byte32ToString(item)) {\r\n      //      return {\r\n      //       radioVal: index,\r\n      //       optionsText: $web3js.byte32ToString(item)\r\n      //     }\r\n      //   }\r\n      // })\r\n\r\n      // 单个选项\r\n      // console.log('stering', $web3js.byte32ToString(await this.iecConst.methods.ProposalOptions(this.pid, 1).call()))\r\n\r\n      optionsArr.forEach((item, index) => {\r\n        if (item && item != \"Reject all options\" && item != \"NO\") {\r\n          this.optionsList.push({\r\n            radioVal: index,\r\n            optionsText: item,\r\n          });\r\n        }\r\n      });\r\n      this.optionsList.push({\r\n        radioVal: 4,\r\n        optionsText: \"Reject all options\",\r\n      });\r\n      // 获取选项票数\r\n      this.getvoteOption();\r\n    },\r\n\r\n    // 获取选项的票数\r\n    async getvoteOption() {\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let optionvote = [];\r\n      for (let k = 0; k < this.optionsList.length - 1; k++) {\r\n        optionvote.push(\r\n          Number(\r\n            await this.iecConst.methods\r\n              .ProposalsOptionsCounts(this.pid, k)\r\n              .call()\r\n          )\r\n        );\r\n      }\r\n      // console.log('optionvote', optionvote)\r\n\r\n      let defaultoption = await this.iecConst.methods\r\n        .ProposalsOptionsCounts(this.pid, 4)\r\n        .call();\r\n\r\n      optionvote.push(Number(defaultoption));\r\n      //  console.log('defaultoption', optionvote)\r\n      this.voteOptions = [...optionvote];\r\n      this.voteOptions.forEach((items, index) => {\r\n        this.optionsList.map((val, key) => {\r\n          if (index === key) {\r\n            val.opVotes = numberUtils.movePointLeft(items, 18);\r\n          }\r\n        });\r\n      });\r\n      this.loading = false;\r\n      this.$forceUpdate();\r\n      // console.log(\"9890\", this.optionsList);\r\n    },\r\n\r\n    // 是否是管理员\r\n    async handlerIsAdmin() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      this.isAdmin = await this.iecConst.methods\r\n        .directors(this.myaddress)\r\n        .call();\r\n      // this.isAdmin = true;\r\n      // console.log('isadmin', this.isAdmin)\r\n    },\r\n\r\n    // 获取最新提案信息\r\n    async newMotionInfo() {\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let newMotionInfos = await this.iecConst.methods\r\n        .Proposals(this.pid)\r\n        .call();\r\n      this.optioncount = numberUtils.movePointLeft(\r\n        newMotionInfos.OptionsTotalCounts,\r\n        18\r\n      );\r\n      this.IsVotingEnd = newMotionInfos.IsVotingEnd;\r\n      this.win = newMotionInfos.WinOption;\r\n      // console.log('newMotionInfos', newMotionInfos);\r\n    },\r\n\r\n    // 投票\r\n    handlerPostVote() {\r\n            // 到期了\r\n      let currentTime = new Date().getTime();\r\n      if (currentTime > this.etime * 1000) {\r\n        this.$toast({\r\n          message: \"The Proposal has expired\"\r\n        });\r\n        return;\r\n      } \r\n\r\n      if (this.IsVotingEnd) {\r\n        this.$toast({\r\n          message:\r\n            \"The vote of this proposal has ended, go to check other proposals\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (typeof this.radio != \"number\") {\r\n        this.$toast({\r\n          message: \"Please select the option to vote\",\r\n        });\r\n        return;\r\n      }\r\n      this.isAuthed();\r\n\r\n      // 1.授权， 2.选则选项， 3.输入票数\r\n      if (this.isAuthedSuccess) {\r\n        this.$prompt(\"Please input the number of vote\", \"Tips\", {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          inputPattern: /^[0-9]*[1-9][0-9]*$/,\r\n          inputErrorMessage: 'The data entered is illegal'\r\n        }).then(({ value }) => {\r\n          this.voteValue = numberUtils.movePointRight(value, 18);\r\n          this.voteToContract();\r\n        });\r\n      } else {\r\n        this.handlerToAuth();\r\n      }\r\n    },\r\n    // 投票调用合约\r\n    async voteToContract() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .vote(vm.pid, vm.radio, vm.voteValue)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          // console.log(\"hash\", hash);\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Successful Vote\",\r\n            });\r\n            // Successful Vote之后要做些什么， 重新花去投票列表\r\n            vm.getProposalOptions();\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Failed Vote！\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Redeem token\r\n    async redeemtoken() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .getVoted(vm.pid)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Successful token withdrawal\",\r\n            });\r\n            // Redeem token成功之后要做些什么\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Failed token withdrawal\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Urgent calculation\r\n    mustCalculate() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n       if (this.isAdmin) {\r\n        this.myaddress = getLocalStorage(\"walletaccount\");\r\n      } else {\r\n        this.myaddress = this.add;\r\n      }\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .proposaleCalculation(vm.pid, true)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Successful urgent calculation\",\r\n            });\r\n            // Urgent calculation成功之后要做些什么\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Failed urgent calculation！\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // Calculation\r\n    commonCalculate() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n        if (this.isAdmin) {\r\n        this.myaddress = getLocalStorage(\"walletaccount\");\r\n      } else {\r\n        this.myaddress = this.add;\r\n      }\r\n      this.iecConst = new this.web3.eth.Contract(iecvote.abi, this.vote, {\r\n        from: this.myaddress,\r\n      });\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iecConst.methods\r\n        .proposaleCalculation(vm.pid, false)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Successful calculation\",\r\n            });\r\n            // Calculation成功之后要做些什么\r\n            vm.newMotionInfo();\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Failed calculation\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 是否授权\r\n    isAuthed() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未Connect Wallet时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      vm.iectokenAuthed.methods\r\n        .allowance(vm.myaddress, vm.vote)\r\n        .call({ from: vm.myaddress })\r\n        .then((res) => {\r\n          // console.log(\"shouquan\", res);\r\n          if (res > 0) {\r\n            this.isAuthedSuccess = true;\r\n            return;\r\n          }\r\n        });\r\n    },\r\n\r\n    // 授权\r\n    async handlerToAuth() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      //转化价格\r\n      this.amount = await numberUtils.movePointRight(99999999, 18);\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iectokenAuthed.methods\r\n        .approve(vm.vote, vm.amount)\r\n        .send({ from: vm.myaddress })\r\n        .on(\"transactionHash\", function(hash) {\r\n          messageNo = vm.$toast({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n          // console.log(\"交易广播哈希\", hash);\r\n          vm.hash = hash;\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$toast({\r\n              message: \"Please vote after the authorization is successful\",\r\n            });\r\n            // 授权成功后直接调投票方法\r\n            vm.$confirm(\"Vote for the selected option\", \"Tips\", {\r\n              confirmButtonText: \"Confirm\",\r\n              cancelButtonText: \"Cancel\",\r\n              type: \"warning\",\r\n            }).then(() => {\r\n              vm.$prompt(\"Please input the number of vote\", \"Tips\", {\r\n                confirmButtonText: \"Confirm\",\r\n                cancelButtonText: \"Cancel\",\r\n                inputPattern: /^[0-9]*[1-9][0-9]*$/,\r\n                inputErrorMessage: 'The data entered is illegal'\r\n              }).then(({ value }) => {\r\n                vm.voteValue = numberUtils.movePointRight(value, 18);\r\n                vm.voteToContract();\r\n              });\r\n            });\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$toast({\r\n            message: \"Failed authorization\",\r\n          });\r\n        });\r\n    },\r\n\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.vote-wrap {\r\n  padding: 20px 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  // justify-content: center;\r\n  // align-items: center;\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    background: #fff;\r\n    // width: 700px;\r\n    min-height: 200px;\r\n    border-radius: 12px;\r\n    padding: 15px;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    // color: #fff;\r\n    .vote-content {\r\n      width: 100%;\r\n      display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n      ul {\r\n        width: 100%;\r\n        min-height: 150px;\r\n        word-break: break-all;\r\n        padding: 15px;\r\n        li {\r\n          width: 100%;\r\n          word-break: break-all;\r\n          margin-bottom: 8px;\r\n        }\r\n      }\r\n      h3 {\r\n        padding-left: 15px;\r\n        margin: 10px 0;\r\n        width: 100%;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n      }\r\n    }\r\n\r\n    .postVote {\r\n      // padding-left: 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vote.vue?vue&type=template&id=1d0b29a2&scoped=true&\"\nimport script from \"./vote.vue?vue&type=script&lang=js&\"\nexport * from \"./vote.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vote.vue?vue&type=style&index=0&id=1d0b29a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d0b29a2\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vote.vue?vue&type=style&index=0&id=b5fe0e06&lang=less&scoped=true&\"","import { createNamespace } from '../utils';\nimport { FieldMixin } from '../mixins/field';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('radio-group'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanRadio'), FieldMixin],\n  props: {\n    value: null,\n    disabled: Boolean,\n    direction: String,\n    checkedColor: String,\n    iconSize: [Number, String]\n  },\n  watch: {\n    value: function value(_value) {\n      this.$emit('change', _value);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem([this.direction]),\n      \"attrs\": {\n        \"role\": \"radiogroup\"\n      }\n    }, [this.slots()]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"airdrop-wrap\"},[_c('div',{staticClass:\"introduce-wrap\"},[(!_vm.isairdropnoexpire)?_c('div',{staticStyle:{\"margin-left\":\"80px\"}},[_c('h2',[_vm._v(\" Deadline of the period：\"+_vm._s(_vm.formatDateTime(_vm.airdropdetailendtime * 1000) || \"--\")+\" \")]),_c('h2',{staticStyle:{\"margin\":\"15px 0\"}},[_vm._v(\" Airdrop number：\"+_vm._s(_vm.airdropCoinNumber || 0)+\" \")]),_c('h2',[_vm._v(\"Total number of airdrops：\"+_vm._s(_vm.airdropCoinTatol || 0))]),_c('h2',{staticStyle:{\"margin\":\"15px 0\"}},[_vm._v(\" Airdropped quantity：\"+_vm._s(_vm.hasairdropNumber || 0)+\" \")])]):_vm._e(),_c('div',{staticStyle:{\"margin\":\"20px 0 50px\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"80px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.receiveAirdrop}},[_vm._v(\"Receive Airdrop\")])],1),(_vm.isadmin && _vm.isairdropnoexpire)?_c('div',{staticStyle:{\"margin-bottom\":\"70px\"}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"Expire Date:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Expire Date\",\"maxlength\":\"“45\"},model:{value:(_vm.expireDate),callback:function ($$v) {_vm.expireDate=$$v},expression:\"expireDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Number of airdrops:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Number of airdrops\",\"maxlength\":\"“45\"},model:{value:(_vm.receiveNum),callback:function ($$v) {_vm.receiveNum=$$v},expression:\"receiveNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Airdrop Total:\"}},[_c('el-input',{attrs:{\"placeholder\":\"Please input the Airdrop Total\",\"maxlength\":\"“45\"},model:{value:(_vm.airdropTotal),callback:function ($$v) {_vm.airdropTotal=$$v},expression:\"airdropTotal\"}})],1)],1),(_vm.isAuthedSuccess)?_c('el-button',{staticStyle:{\"margin-left\":\"80px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.setExpiredTime}},[_vm._v(\"Set Config\")]):_c('el-button',{staticStyle:{\"margin-left\":\"80px\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.handlerToAuth}},[_vm._v(\"Authorize\")])],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"airdrop-wrap\">\r\n    <div class=\"introduce-wrap\">\r\n      <div style=\"margin-left: 80px\" v-if=\"!isairdropnoexpire\">\r\n        <h2>\r\n          Deadline of the period：{{\r\n            formatDateTime(airdropdetailendtime * 1000) || \"--\"\r\n          }}\r\n        </h2>\r\n        <h2 style=\"margin:15px 0;\">\r\n          Airdrop number：{{ airdropCoinNumber || 0 }}\r\n        </h2>\r\n        <h2>Total number of airdrops：{{ airdropCoinTatol || 0 }}</h2>\r\n        <h2 style=\"margin:15px 0;\">\r\n          Airdropped quantity：{{ hasairdropNumber || 0 }}\r\n        </h2>\r\n      </div>\r\n\r\n      <div style=\"margin: 20px 0 50px\">\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"margin-left: 80px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"receiveAirdrop\"\r\n          >Receive Airdrop</el-button\r\n        >\r\n      </div>\r\n\r\n      <!-- 只有是管理员的时候才显示 -->\r\n      <div style=\"margin-bottom: 70px\" v-if=\"isadmin && isairdropnoexpire\">\r\n        <el-form ref=\"form\" label-width=\"140px\">\r\n          <el-form-item label=\"Expire Date:\">\r\n            <el-input\r\n              v-model=\"expireDate\"\r\n              placeholder=\"Please input the Expire Date\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Number of airdrops:\">\r\n            <el-input\r\n              v-model=\"receiveNum\"\r\n              placeholder=\"Please input the Number of airdrops\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Airdrop Total:\">\r\n            <el-input\r\n              v-model=\"airdropTotal\"\r\n              placeholder=\"Please input the Airdrop Total\"\r\n              maxlength=\"“45\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button\r\n          v-if=\"isAuthedSuccess\"\r\n          type=\"primary\"\r\n          style=\"margin-left: 80px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"setExpiredTime\"\r\n          >Set Config</el-button\r\n        >\r\n        <el-button\r\n          v-else\r\n          type=\"primary\"\r\n          style=\"margin-left: 80px\"\r\n          :disabled=\"disabled\"\r\n          @click=\"handlerToAuth\"\r\n          >Authorize</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport {\r\n  formartadd,\r\n  formatDateTime,\r\n  setLocalStorage,\r\n  getLocalStorage,\r\n} from \"@/utils/utils\";\r\nimport $web3js from \"../../../src/lib/contract/web3\";\r\nimport numberUtils from \"@/utils/numberUtils\";\r\nconst Web3 = require(\"web3\");\r\nconst iecToken = require(\"@/lib/contract/contractAbi/iectoken.json\");\r\nconst onlyairdrop = require(\"@/lib/contract/contractAbi/onlyairdrop.json\");\r\n\r\n// 捐赠 abi\r\n// 空投 abi\r\nexport default {\r\n  data() {\r\n    return {\r\n      disabled: true,\r\n      isadmin: false,\r\n      // 领取空投参数 id\r\n      receiveId: \"\",\r\n      iectokenAuthed: \"\", // 授权方法主体\r\n      isAuthedSuccess: false,\r\n\r\n      iecTokenContract: this.$contractAddress.iecToken,\r\n      iecConst: \"\",\r\n      expireDate: \"\", // 过期时间\r\n      airdropTotal: \"\", // 空投总量\r\n      receiveNum: \"\", // 领取数量\r\n      onlyairdropContractAdd: this.$contractAddress.onlyairdropContractAdd, // 空投合约地址\r\n      onlyairdropConst: \"\", // 空投方法主体\r\n\r\n      isairdropnoexpire: false, // 本期空投是否过期\r\n      // 空投详情\r\n      airdropdetailendtime: \"\", //截止时间\r\n      airdropCoinNumber: \"\", // 每笔空投lec数量\r\n      airdropCoinTatol: \"\", //本期空投lec总数量\r\n      hasairdropNumber: \"\", // 已经空投lec数量\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"login\", [\"walletaccount\"]),\r\n  },\r\n\r\n  activated() {\r\n    this.disabled = getLocalStorage(\"walletaccount\") ? false : true;\r\n    if (getLocalStorage(\"walletaccount\")) {\r\n      // 是否是管理员\r\n      this.handlerIsAdmin();\r\n      this.getreceiveId();\r\n      // 是否授权\r\n      this.isAuthed();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    formatDateTime,\r\n    // 是否授权\r\n    isAuthed() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      vm.iectokenAuthed.methods\r\n        .allowance(vm.myaddress, vm.onlyairdropContractAdd)\r\n        .call({ from: vm.myaddress })\r\n        .then((res) => {\r\n          // console.log(\"shouquan\", res);\r\n          if (res > 0) {\r\n            this.isAuthedSuccess = true;\r\n            return;\r\n          }\r\n        });\r\n    },\r\n    // 是否是管理员\r\n    async handlerIsAdmin() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      if (await this.iecConst.methods.admin(this.myaddress).call()) {\r\n        this.isadmin = true;\r\n      }\r\n    },\r\n    // 查领取空头参数 id  receiveId\r\n    async getreceiveId() {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      const getedid = await this.iecConst.methods.id().call();\r\n      // console.log(\"getedid\", getedid);\r\n      this.receiveId = getedid;\r\n      this.getairdropdetail(this.receiveId);\r\n    },\r\n\r\n    // 获取每期空投详情\r\n    async getairdropdetail(id) {\r\n      // 钱包调用固定方法\r\n      this.connectMetaMask();\r\n      if (getLocalStorage(\"walletaccount\")) {\r\n        this.web3 = this.$web3js.getWeb3();\r\n      } else {\r\n        // 未连接钱包时， 默认连接到 bnb 测试\r\n        this.web3 = new Web3(\r\n          \"https://mainnet.infura.io/v3/a1fb8b522ffc46d38c505a38cb073e73\"\r\n        );\r\n      }\r\n      this.myaddress = getLocalStorage(\"walletaccount\")\r\n        ? getLocalStorage(\"walletaccount\")\r\n        : \"0xE91d5D70b07071f85568c15ABfEda2B3466A2705\";\r\n      this.iecConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      const airdropdetail = await this.iecConst.methods.airdropMap(id).call();\r\n      // console.log(\"airdropdetail\", airdropdetail);\r\n      this.airdropdetailendtime = airdropdetail.endTime;\r\n\r\n      // 到期了\r\n      let currentTime = new Date().getTime();\r\n      if (currentTime > this.airdropdetailendtime * 1000) {\r\n        this.isairdropnoexpire = true;\r\n      }\r\n\r\n      this.airdropCoinNumber = await numberUtils.movePointLeft(\r\n        airdropdetail.airdropCoinNumber,\r\n        18\r\n      );\r\n      this.airdropCoinTatol = await numberUtils.movePointLeft(\r\n        airdropdetail.airdropCoinTatol,\r\n        18\r\n      );\r\n      this.hasairdropNumber = await numberUtils.movePointLeft(\r\n        airdropdetail.hasairdropNumber,\r\n        18\r\n      );\r\n    },\r\n\r\n    // 领取空投\r\n    async receiveAirdrop() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.onlyairdropConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.onlyairdropConst.methods\r\n        .receiveAirdrop(vm.receiveId)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Receive Donation is successful\",\r\n              type: \"success\",\r\n            });\r\n            vm.donationAdd = \"\";\r\n            vm.getreceiveId();\r\n            vm.$store.dispatch(\"ActionRouterKey\");\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Receive Donation failed, try later\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 管理员设置过期时间\r\n    setExpiredTime() {\r\n      this.isAuthed();\r\n      if (this.isAuthedSuccess) {\r\n        if (this.expireDate == \"\") {\r\n          this.$message({\r\n            message: \"expire Date cannot be empty\",\r\n            type: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.receiveNum == \"\") {\r\n          this.$message({\r\n            message: \"Quantity received cannot be empty\",\r\n            type: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.airdropTotal == \"\") {\r\n          this.$message({\r\n            message: \"Airdrop total cannot be empty\",\r\n            type: \"warning\",\r\n          });\r\n          return;\r\n        }\r\n        this.setconfigInfo();\r\n      } else {\r\n        this.handlerToAuth();\r\n      }\r\n    },\r\n\r\n    // 调用合约穿参数\r\n    async setconfigInfo() {\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.onlyairdropConst = new this.web3.eth.Contract(\r\n        onlyairdrop.abi,\r\n        this.onlyairdropContractAdd,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      let vm = this;\r\n      let messageNo;\r\n      let endtime = vm.expireDate * 24 * 60 * 60;\r\n      // console.log(\"endtime\", endtime);\r\n      let endTime_ = endtime;\r\n      let airdropCoinNumber_ = await numberUtils.movePointRight(\r\n        vm.receiveNum,\r\n        18\r\n      );\r\n      let airdropCoinTatol_ = await numberUtils.movePointRight(\r\n        vm.airdropTotal,\r\n        18\r\n      );\r\n      // console.log(vm.receiveNum, vm.airdropTotal);\r\n      vm.onlyairdropConst.methods\r\n        .newAirDrop(endTime_, airdropCoinNumber_, airdropCoinTatol_)\r\n        .send()\r\n        .on(\"transactionHash\", function(hash) {\r\n          vm.hash = hash;\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message: \"Set successfully\",\r\n              type: \"success\",\r\n            });\r\n          }\r\n          vm.getreceiveId();\r\n          vm.$store.dispatch(\"ActionRouterKey\");\r\n          vm.expireDate = \"\"; // 过期时间\r\n          vm.airdropTotal = \"\"; // 空投总量\r\n          vm.receiveNum = \"\"; // 领取数量\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Set failed, try later\",\r\n            type: \"warning\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 授权\r\n    async handlerToAuth() {\r\n      // 获得方法主体\r\n      this.connectMetaMask();\r\n      this.web3 = this.$web3js.getWeb3();\r\n      this.myaddress = getLocalStorage(\"walletaccount\");\r\n      this.iectokenAuthed = new this.web3.eth.Contract(\r\n        iecToken.abi,\r\n        this.iecTokenContract,\r\n        {\r\n          from: this.myaddress,\r\n        }\r\n      );\r\n      //转化价格\r\n      this.amount = await numberUtils.movePointRight(99999999, 18);\r\n      let vm = this;\r\n      let messageNo;\r\n      vm.iectokenAuthed.methods\r\n        .approve(vm.onlyairdropContractAdd, vm.amount)\r\n        .send({ from: vm.myaddress })\r\n        .on(\"transactionHash\", function(hash) {\r\n          messageNo = vm.$message({\r\n            duration: 0,\r\n            message: \"In transaction, please wait patiently\",\r\n          });\r\n          // console.log(\"交易广播哈希\", hash);\r\n          vm.hash = hash;\r\n        })\r\n        .on(\"receipt\", function(receipt) {\r\n          // console.log(\"交易回执\", receipt);/\r\n          if (receipt.transactionHash == vm.hash) {\r\n            messageNo.close();\r\n            vm.$message({\r\n              message:\r\n                \"Authorization is successful, fill in the configuration information and submit\",\r\n              type: \"success\",\r\n            });\r\n            vm.isAuthedSuccess = true;\r\n          }\r\n        })\r\n        .on(\"error\", function(error, receipt) {\r\n          // console.log(\"交易失败回执\", error, receipt);\r\n          messageNo.close();\r\n          vm.$message({\r\n            message: \"Failed authorization\",\r\n            type: \"success\",\r\n          });\r\n        });\r\n    },\r\n    connectMetaMask() {\r\n      $web3js.connectMetaMask().then((res) => {\r\n        if (!getLocalStorage(\"walletaccount\")) {\r\n          // this.loadingData();\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.airdrop-wrap {\r\n  padding: 10px 0 100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  // margin: 0 auto;\r\n  .introduce-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    height: 150px;\r\n    border-radius: 12px;\r\n    padding: 20px 15px;\r\n    font-size: 16px;\r\n    > div:nth-child(1) {\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./receive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./receive.vue?vue&type=template&id=66fb77f0&scoped=true&\"\nimport script from \"./receive.vue?vue&type=script&lang=js&\"\nexport * from \"./receive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./receive.vue?vue&type=style&index=0&id=66fb77f0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66fb77f0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}